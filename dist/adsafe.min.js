/**
 * @preserve
 * @author Douglas Crockford <douglas@crockford.com>
 * @version 1.0.1
 * @description ADsafe, the JavaScript widget framework for advertising and mashups
 */
var ADSAFE;ADSAFE=function(){"use strict";function e(e){throw ADSAFE.log("ADsafe error: "+(e||"ADsafe violation.")),{name:"ADsafe",message:e||"ADsafe violation."}}function t(t){return"string"!=typeof t&&e("ADsafe string violation."),t}function n(e,n){return e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,t(n))}function r(e){return"number"!=typeof e&&("string"!=typeof e||x[e]||"_"===e.charAt(0)||"_"===e.slice(-1))}function o(e,t){return"object"!=typeof e||r(t)}function i(t){t.window&&e()}function s(e){return e===d?g:(d=e,g=e.currentStyle||w.getComputedStyle(e,""))}function a(e,t,n){for(n||t(e),e=e.firstChild;e;)a(e,t),e=e.nextSibling}function l(e){a(e,function(e){e.tagName&&(e["___ on ___"]=null,e.change=null)})}function _(n,r){var o,i,s=[],a=r?/^\s*(?:([\*\/])|\[\s*([a-z][0-9a-z_\-]*)\s*(?:([!*~\|$\^]?=)\s*([0-9A-Za-z_\-*%&;.\/:!]+)\s*)?\]|#\s*([A-Z]+_[A-Z0-9]+)|:\s*([a-z]+)|([.&_>\+]?)\s*([a-z][0-9a-z\-]*))\s*/:/^\s*(?:([\*\/])|\[\s*([a-z][0-9a-z_\-]*)\s*(?:([!*~\|$\^]?=)\s*([0-9A-Za-z_\-*%&;.\/:!]+)\s*)?\]|#\s*([\-A-Za-z0-9_]+)|:\s*([a-z]+)|([.&_>\+]?)\s*([a-z][0-9a-z\-]*))\s*/;do{o=a.exec(t(n)),o||e("ADsafe: Bad query:"+n),o[1]?i={op:o[1]}:o[2]?i=o[3]?{op:"["+o[3],name:o[2],value:o[4]}:{op:"[",name:o[2]}:o[5]?((s.length>0||o[5].length<=r.length||o[5].slice(0,r.length)!==r)&&e("ADsafe: Bad query: "+n),i={op:"#",name:o[5]}):i=o[6]?{op:":"+o[6]}:{op:o[7],name:o[8]},s.push(i),n=n.slice(o[0].length)}while(n);return s}function f(t,n){var r,o,i,s;for(i=0;i<t.length;i+=1){if(r=t[i],A=r.name,"function"==typeof(o=v[r.op]))for(k&&e("ADsafe: Query violation: *"+r.op+(r.name||"")),N=[],s=0;s<n.length;s+=1)o(n[s]);else if(D=r.value,m=!1,"function"!=typeof(o=b[r.op]))switch(r.op){case":first":N=n.slice(0,1);break;case":rest":N=n.slice(1);break;default:e("ADsafe: Query violation: :"+r.op)}else for(N=[],s=0;s<n.length;s+=1)o(n[s])&&N.push(n[s]);n=N}return N}function u(o,a){function u(e){this.___nodes___=e,this.___star___=k&&e.length>1,k=!1}a?"DIV"!==o.tagName&&e("ADsafe: Bad node."):"BODY"!==o.tagName&&e("ADsafe: Bad node.");var h,c=!0,g=function(t){var n,r,o,i,s,a=t||event,l=a.type;switch(s=a.target||a.srcElement,r=new u([s]),o=r,l){case"mousedown":c=!0,document.selection&&(C=document.selection.createRange());break;case"focus":case"focusin":c=!0,y=s,a.cancelBubble=!1,l="focus";break;case"blur":case"focusout":c=!1,y=null,l="blur";break;case"keypress":switch(c=!0,y=s,n=String.fromCharCode(a.charCode||a.keyCode)){case"\r":case"\n":l="enterkey";break;case"":l="escapekey"}break;case"click":c=!0}if(a.cancelBubble&&a.stopPropagation&&a.stopPropagation(),i={altKey:a.altKey,ctrlKey:a.ctrlKey,bubble:function(){try{var t=o.getParent(),n=t.___nodes___[0];o=t,i.that=o,n["___ on ___"]&&n["___ on ___"][l]?o.fire(i):i.bubble()}catch(t){e(t)}},key:n,preventDefault:function(){a.preventDefault&&a.preventDefault(),a.returnValue=!1},shiftKey:a.shiftKey,target:r,that:o,type:l,x:a.clientX,y:a.clientY},s["___ on ___"]&&s["___ on ___"][i.type])r.fire(i);else for(;;){if(!(s=s.parentNode))break;if(s["___ on ___"]&&s["___ on ___"][i.type]){o=new u([s]),i.that=o,o.fire(i);break}if(s["___adsafe root___"])break}"escapekey"===i.type&&(p&&p.remove(),p=null),o=null,a=null,i=null,s=null};return o["___adsafe root___"]="___adsafe root___",u.prototype={append:function(t){i(this);var n,r,o,s,a=this.___nodes___,l=!1;if(0===a.length||!t)return this;if(Array.isArray(t))for(t.length!==a.length&&e("ADsafe: Array length: "+a.length+"-"+D.length),n=0;n<a.length;n+=1)for(s=t[n].___nodes___,r=0;r<s.length;r+=1)a[n].appendChild(s[r]);else for("string"!=typeof t&&(s=t.___nodes___),n=0;n<a.length;n+=1)if(o=a[n],s){for(r=0;r<s.length;r+=1)o.appendChild(l?s[r].cloneNode(!0):s[r]);l=!0}else o.appendChild(document.createTextNode(t));return this},blur:function(){i(this);var e,t,n=this.___nodes___;for(y=null,e=0;e<n.length;e+=1)t=n[e],t.blur&&t.blur();return this},check:function(t){i(this);var n,r,o=this.___nodes___;if(Array.isArray(t))for(t.length!==o.length&&e("ADsafe: Array length: "+o.length+"-"+t.length),n=0;n<o.length;n+=1)r=o[n],r.tagName&&(r.checked=!!t[n]);else for(n=0;n<o.length;n+=1)r=o[n],r.tagName&&(r.checked=!!t);return this},class:function(n){i(this);var r,o,s=this.___nodes___;if(Array.isArray(n))for(n.length!==s.length&&e("ADsafe: Array length: "+s.length+"-"+n.length),r=0;r<s.length;r+=1)/url/i.test(t(n[r]))&&e("ADsafe error."),o=s[r],o.tagName&&(o.className=n[r]);else for(/url/i.test(t(n))&&e("ADsafe error."),r=0;r<s.length;r+=1)o=s[r],o.tagName&&(o.className=n);return this},clone:function(e,t){var n,r,o,i=[],s=this.___nodes___,a=t||1;for(r=0;r<a;r+=1){for(n=[],o=0;o<s.length;o+=1)n.push(s[o].cloneNode(e));i.push(new u(n))}return t?i:i[0]},count:function(){return i(this),this.___nodes___.length},each:function(t){i(this);var n,r=this.___nodes___;if("function"==typeof t){for(n=0;n<r.length;n+=1)t(new u([r[n]]));return this}e()},empty:function(){i(this);var t,n,r=this.___nodes___;if(Array.isArray(D))for(D.length!==r.length&&e("ADsafe: Array length: "+r.length+"-"+D.length),t=0;t<r.length;t+=1)for(n=r[t];n.firstChild;)l(n),n.removeChild(n.firstChild);else for(t=0;t<r.length;t+=1)for(n=r[t];n.firstChild;)l(n),n.removeChild(n.firstChild);return this},enable:function(t){i(this);var n,r,o=this.___nodes___;if(Array.isArray(t))for(t.length!==o.length&&e("ADsafe: Array length: "+o.length+"-"+t.length),n=0;n<o.length;n+=1)r=o[n],r.tagName&&(r.disabled=!t[n]);else for(n=0;n<o.length;n+=1)r=o[n],r.tagName&&(r.disabled=!t);return this},ephemeral:function(){return i(this),p&&p.remove(),p=this,this},explode:function(){i(this);var e,t=[],n=this.___nodes___;for(e=0;e<n.length;e+=1)t[e]=new u([n[e]]);return t},fire:function(t){i(this);var r,o,s,a,l,_,f,u;for("string"==typeof t?(u=t,t={type:u}):"object"==typeof t?u=t.type:e(),o=this.___nodes___,l=o.length,s=0;s<l;s+=1)if(_=o[s],f=_["___ on ___"],n(f,u))for(r=f[u],a=0;a<r.length;a+=1)r[a].call(this,t);return this},focus:function(){i(this);var t=this.___nodes___;if(t.length>0&&c)return y=t[0].focus(),this;e()},fragment:function(){return i(this),new u([document.createDocumentFragment()])},getCheck:function(){return this.getChecks()[0]},getChecks:function(){i(this);var e,t=[],n=this.___nodes___;for(e=0;e<n.length;e+=1)t[e]=n[e].checked;return t},getClass:function(){return this.getClasses()[0]},getClasses:function(){i(this);var e,t=[],n=this.___nodes___;for(e=0;e<n.length;e+=1)t[e]=n[e].className;return t},getMark:function(){return this.getMarks()[0]},getMarks:function(){i(this);var e,t=[],n=this.___nodes___;for(e=0;e<n.length;e+=1)t[e]=n[e]["_adsafe mark_"];return t},getName:function(){return this.getNames()[0]},getNames:function(){i(this);var e,t=[],n=this.___nodes___;for(e=0;e<n.length;e+=1)t[e]=n[e].name;return t},getOffsetHeight:function(){return this.getOffsetHeights()[0]},getOffsetHeights:function(){i(this);var e,t=[],n=this.___nodes___;for(e=0;e<n.length;e+=1)t[e]=n[e].offsetHeight;return t},getOffsetWidth:function(){return this.getOffsetWidths()[0]},getOffsetWidths:function(){i(this);var e,t=[],n=this.___nodes___;for(e=0;e<n.length;e+=1)t[e]=n[e].offsetWidth;return t},getParent:function(){i(this);var t,n,r=[],o=this.___nodes___;for(t=0;t<o.length;t+=1)n=o[t].parentNode,n["___adsafe root___"]&&e("ADsafe parent violation."),r[t]=n;return new u(r)},getSelection:function(){i(this);var e,t,n,r,o=this.___nodes___;if(1===o.length&&c){if(t=o[0],"number"==typeof t.selectionStart)return n=t.selectionStart,e=t.selectionEnd,t.value.slice(n,e);if(r=t.createTextRange(),r.expand("textedit"),r.inRange(C))return C.text}return null},getStyle:function(e){return this.getStyles(e)[0]},getStyles:function(t){i(this),r(t)&&e("ADsafe style violation.");var n,o,a,l=[],_=this.___nodes___;for(n=0;n<_.length;n+=1)o=_[n],o.tagName&&"string"==typeof(a="float"!==t?s(o)[t]:s(o).cssFloat||s(o).styleFloat)&&(l[n]=a);return l},getTagName:function(){return this.getTagNames()[0]},getTagNames:function(){i(this);var e,t,n=[],r=this.___nodes___;for(e=0;e<r.length;e+=1)t=r[e].tagName,n[e]="string"==typeof t?t.toLowerCase():t;return n},getTitle:function(){return this.getTitles()[0]},getTitles:function(){i(this);var e,t=[],n=this.___nodes___;for(e=0;e<n.length;e+=1)t[e]=n[e].title;return t},getValue:function(){return this.getValues()[0]},getValues:function(){i(this);var e,t,n=[],r=this.___nodes___;for(e=0;e<r.length;e+=1)t=r[e],"#text"===t.nodeName?n[e]=t.nodeValue:t.tagName&&"password"!==t.type&&(n[e]=t.value,!n[e]&&t.firstChild&&"#text"===t.firstChild.nodeName&&(n[e]=t.firstChild.nodeValue));return n},indeterminate:function(t){i(this);var n,r,o=this.___nodes___;if(Array.isArray(t))for(t.length!==o.length&&e("ADsafe: Array length: "+o.length+"-"+t.length),n=0;n<o.length;n+=1)r=o[n],r.tagName&&(r.indeterminate=!!t[n]);else for(n=0;n<o.length;n+=1)r=o[n],r.tagName&&(r.indeterminate=!!t);return this},klass:function(e){return this.class(e)},mark:function(t){i(this);var n,r,o=this.___nodes___;if(Array.isArray(t))for(t.length!==o.length&&e("ADsafe: Array length: "+o.length+"-"+t.length),n=0;n<o.length;n+=1)r=o[n],r.tagName&&(r["_adsafe mark_"]=String(t[n]));else for(n=0;n<o.length;n+=1)r=o[n],r.tagName&&(r["_adsafe mark_"]=String(t));return this},off:function(e){i(this);var t,n,r=this.___nodes___;for(t=0;t<r.length;t+=1)n=r[t],"string"==typeof e?"object"==typeof n["___ on ___"]&&(n["___ on ___"][e]=null):n["___ on ___"]=null;return this},on:function(t,r){i(this),"string"==typeof t&&"function"==typeof r||e();var o,s,a,l,_=this.___nodes___;for(o=0;o<_.length;o+=1)s=_[o],"change"===t&&(l="on"+t,s[l]!==g&&(s[l]=g)),a=s["___ on ___"],a||(a={},s["___ on ___"]=a),n(a,t)?a[t].push(r):a[t]=[r];return this},protect:function(){i(this);var e,t=this.___nodes___;for(e=0;e<t.length;e+=1)t[e]["___adsafe root___"]="___adsafe root___";return this},q:function(e){return i(this),k=this.___star___,new u(f(_(t(e),a),this.___nodes___))},remove:function(){i(this),this.replace()},replace:function(t){i(this);var n,r,o,s,a,_,f=this.___nodes___,u=!1;if(0!==f.length){for(n=0;n<f.length;n+=1)l(f[n]);if(!t||0===t.length||t.___nodes___&&0===t.___nodes___.length)for(n=0;n<f.length;n+=1)s=f[n],l(s),s.parentNode&&s.parentNode.removeChild(s);else if(Array.isArray(t)){for(t.length!==f.length&&e("ADsafe: Array length: "+f.length+"-"+D.length),n=0;n<f.length;n+=1)if(s=f[n],a=s.parentNode,l(s),a)if(_=t[n].___nodes___,_.length>0)for(o=_[0],a.replaceChild(o,s),r=1;r<_.length;r+=1)s=o,o=_[r],a.insertBefore(o,s.nextSibling);else a.removeChild(s)}else for(_=t.___nodes___,n=0;n<f.length;n+=1)if(s=f[n],l(s),a=s.parentNode){for(o=u?_[0].cloneNode(!0):_[0],a.replaceChild(o,s),r=1;r<_.length;r+=1)s=o,o=u?_[r].clone(!0):_[r],a.insertBefore(o,s.nextSibling);u=!0}return this}},select:function(){i(this);var t=this.___nodes___;return(t.length<1||!c)&&e(),t[0].focus(),t[0].select(),this},selection:function(e){i(this),t(e);var n,r,o,s,a,l=this.___nodes___;return 1===l.length&&c&&(r=l[0],"number"==typeof r.selectionStart?(s=r.selectionStart,n=r.selectionEnd,o=r.value,r.value=o.slice(0,s)+e+o.slice(n),r.selectionStart=s+e.length,r.selectionEnd=s+e.length,r.focus()):(a=r.createTextRange(),a.expand("textedit"),a.inRange(C)&&(C.select(),C.text=e,C.select()))),this},style:function(n,o){i(this),r(n)&&e("ADsafe style violation."),(void 0===o||/url/i.test(t(o)))&&e();var s,a,l,_=this.___nodes___;if(Array.isArray(o))for(o.length!==_.length&&e("ADsafe: Array length: "+_.length+"-"+o.length),s=0;s<_.length;s+=1)a=_[s],l=t(o[s]),/url/i.test(l)&&e(),a.tagName&&("float"!==n?a.style[n]=l:(a.style.cssFloat=l,a.style.styleFloat=l));else for(l=t(o),/url/i.test(l)&&e(),s=0;s<_.length;s+=1)a=_[s],a.tagName&&("float"!==n?a.style[n]=l:(a.style.cssFloat=l,a.style.styleFloat=l));return this},tag:function(n,r,o){i(this);var s;return"string"!=typeof n&&e(),E[n]!==!0&&e("ADsafe: Bad tag: "+n),s=document.createElement(n),o&&(s.autocomplete="off",s.name=t(o)),r&&(s.type=t(r)),new u([s])},text:function(e){i(this);var n,r;if(Array.isArray(e)){for(n=[],r=0;r<e.length;r+=1)n[r]=document.createTextNode(t(e[r]));return new u(n)}return new u([document.createTextNode(t(e))])},title:function(n){i(this);var r,o,s=this.___nodes___;if(Array.isArray(n))for(n.length!==s.length&&e("ADsafe: Array length: "+s.length+"-"+n.length),r=0;r<s.length;r+=1)o=s[r],o.tagName&&(o.title=t(n[r]));else for(t(n),r=0;r<s.length;r+=1)o=s[r],o.tagName&&(o.title=n);return this},value:function(t){i(this),void 0===t&&e();var n,r,o=this.___nodes___;if(Array.isArray(t)&&o.length===t.length)for(n=0;n<o.length;n+=1)if(r=o[n],r.tagName){if("password"!==r.type)if("string"==typeof r.value)r.value=t[n];else{for(;r.firstChild;)l(r.firstChild),r.removeChild(r.firstChild);r.appendChild(document.createTextNode(String(t[n])))}}else"#text"===r.nodeName&&(r.nodeValue=String(t[n]));else for(t=String(t),n=0;n<o.length;n+=1)if(r=o[n],r.tagName)if("BUTTON"!==r.tagName&&"string"==typeof r.value)r.value=t;else{for(;r.firstChild;)l(r.firstChild),r.removeChild(r.firstChild);r.appendChild(document.createTextNode(t))}else"#text"===r.nodeName&&(r.nodeValue=t);return this}},h={append:function(e){var t,n,r="string"==typeof e?[document.createTextNode(e)]:e.___nodes___;for(t=0;t<r.length;t+=1)n=r[t],"string"!=typeof n&&"number"!=typeof n||(n=document.createTextNode(String(n))),o.appendChild(n);return h},combine:function(t){t&&t.length||e("ADsafe: Bad combination.");var n,r=t[0].___nodes___;for(n=0;n<t.length;n+=1)r=r.concat(t[n].___nodes___);return new u(r)},count:function(){return 1},ephemeral:function(e){return p&&p.remove(),p=e,h},fragment:function(){return new u([document.createDocumentFragment()])},prepend:function(e){var t,n=e.___nodes___;for(t=0;t<n.length;t+=1)o.insertBefore(n[t],o.firstChild);return h},q:function(t){k=!1;var n=_(t,a);return"function"!=typeof v[n[0].op]&&e("ADsafe: Bad query: "+n[0]),new u(f(n,[o]))},remove:function(){l(o),o.parent.removeElement(o),o=null},row:function(e){var t,n,r=document.createElement("tr");for(n=0;n<e.length;n+=1)t=document.createElement("td"),t.appendChild(document.createTextNode(String(e[n]))),r.appendChild(t);return new u([r])},tag:function(t,n,r){var o;return"string"!=typeof t&&e(),E[t]!==!0&&e("ADsafe: Bad tag: "+t),o=document.createElement(t),r&&(o.autocomplete="off",o.name=r),n&&(o.type=n),new u([o])},text:function(e){var n,r;if(Array.isArray(e)){for(n=[],r=0;r<e.length;r+=1)n[r]=document.createTextNode(t(e[r]));return new u(n)}return new u([document.createTextNode(t(e))])}},"function"==typeof o.addEventListener?(o.addEventListener("focus",g,!0),o.addEventListener("blur",g,!0),o.addEventListener("mouseover",g,!0),o.addEventListener("mouseout",g,!0),o.addEventListener("mouseup",g,!0),o.addEventListener("mousedown",g,!0),o.addEventListener("mousemove",g,!0),o.addEventListener("click",g,!0),o.addEventListener("dblclick",g,!0),o.addEventListener("keypress",g,!0)):(o.onclick=g,o.ondblclick=g,o.onfocusin=g,o.onfocusout=g,o.onkeypress=g,o.onmouseout=g,o.onmousedown=g,o.onmousemove=g,o.onmouseover=g,o.onmouseup=g),[h,u.prototype]}var h,c,g,d,p,m,y,v,A,b,N,k,C,D,x={arguments:!0,callee:!0,caller:!0,constructor:!0,eval:!0,prototype:!0,stack:!0,unwatch:!0,valueOf:!0,watch:!0},w=document.defaultView,S=[],E={a:!0,abbr:!0,acronym:!0,address:!0,area:!0,b:!0,bdo:!0,big:!0,blockquote:!0,br:!0,button:!0,canvas:!0,caption:!0,center:!0,cite:!0,code:!0,col:!0,colgroup:!0,dd:!0,del:!0,dfn:!0,dir:!0,div:!0,dl:!0,dt:!0,em:!0,fieldset:!0,font:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,hr:!0,i:!0,img:!0,input:!0,ins:!0,kbd:!0,label:!0,legend:!0,li:!0,map:!0,menu:!0,object:!0,ol:!0,optgroup:!0,option:!0,p:!0,pre:!0,q:!0,samp:!0,select:!0,small:!0,span:!0,strong:!0,sub:!0,sup:!0,table:!0,tbody:!0,td:!0,textarea:!0,tfoot:!0,th:!0,thead:!0,tr:!0,tt:!0,u:!0,ul:!0,var:!0};return v={"":function(e){var t,n,r,o=e.getElementsByTagName(A);try{t=Array.prototype.slice.call(o,0),N=N.length?N.concat(t):t}catch(e){for(r=o.length,n=0;n<r;n+=1)N.push(o[n])}},"+":function(e){for(e=e.nextSibling,A=A.toUpperCase();e&&!e.tagName;)e=e.nextSibling;e&&e.tagName===A&&N.push(e)},">":function(e){for(e=e.firstChild,A=A.toUpperCase();e;)e.tagName===A&&N.push(e),e=e.nextSibling},"#":function(){var e=document.getElementById(A);e.tagName&&N.push(e)},"/":function(e){var t,n=e.childNodes,r=n.length;for(t=0;t<r;t+=1)N.push(n[t])},"*":function(e){k=!0,a(e,function(e){N.push(e)},!0)}},b={".":function(e){return(" "+e.className+" ").indexOf(" "+A+" ")>=0},"&":function(e){return e.name===A},_:function(e){return e.type===A},"[":function(e){return"string"==typeof e[A]},"[=":function(e){var t=e[A];return"string"==typeof t&&t===D},"[!=":function(e){var t=e[A];return"string"==typeof t&&t!==D},"[^=":function(e){var t=e[A];return"string"==typeof t&&t.slice(0,t.length)===D},"[$=":function(e){var t=e[A];return"string"==typeof t&&t.slice(-t.length)===D},"[*=":function(e){var t=e[A];return"string"==typeof t&&t.indexOf(D)>=0},"[~=":function(e){var t=e[A];if("string"==typeof t)return t=" "+t+" ",t.indexOf(" "+D+" ")>=0},"[|=":function(e){var t=e[A];if("string"==typeof t)return t="-"+t+"-",t.indexOf("-"+D+"-")>=0},":blur":function(e){return e!==y},":checked":function(e){return e.checked},":disabled":function(e){return e.tagName&&e.disabled},":enabled":function(e){return e.tagName&&!e.disabled},":even":function(e){var t;return!!e.tagName&&(t=m,m=!m,t)},":focus":function(e){return e===y},":hidden":function(e){return e.tagName&&"visible"!==s(e).visibility},":odd":function(e){return!!e.tagName&&(m=!m)},":tag":function(e){return e.tagName},":text":function(e){return"#text"===e.nodeName},":trim":function(e){return"#text"!==e.nodeName||/\W/.test(e.nodeValue)},":unchecked":function(e){return e.tagName&&!e.checked},":visible":function(e){return e.tagName&&"visible"===s(e).visibility}},{create:function(e){return i(e),Object.create(e)},get:function(t,n){if(i(t),!o(t,n))return t[n];e()},go:function(t,n){var r,o,i,s,a;h&&h!==t&&e(),i=document.getElementById(t),"DIV"!==i.tagName&&e(),h=null,a=i.getElementsByTagName("script"),(s=a.length-1)<0&&e();do{i.removeChild(a[s]),s-=1}while(s>=0);for(i=u(i,t),r=i[0],s=0;s<S.length;s+=1)if("function"==typeof(o=S[s]))try{o(t,r,c,i[1])}catch(e){ADSAFE.log(e)}try{n(r,c)}catch(e){ADSAFE.log(e)}i=null,c=null},has:function(e,t){return n(e,t)},id:function(t){h&&e(),h=t,c={}},isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.apply(e)},keys:Object.keys,later:function(t,n){"function"==typeof t?setTimeout(t,n||0):e()},lib:function(t,n){h&&!r(t)||e("ADsafe lib violation."),c[t]=n(c)},log:function(e){window.console?console.log(e):"object"==typeof Debug?Debug.writeln(e):opera.postError(e)},remove:function(t,n){if(!o(t,n))return void delete t[n];e()},set:function(t,n,r){if(i(t),!o(t,n))return void(t[n]=r);e()},_intercept:function(e){S.push(e)}}}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkc2FmZS5qcyJdLCJuYW1lcyI6WyJBRFNBRkUiLCJlcnJvciIsIm1lc3NhZ2UiLCJsb2ciLCJuYW1lIiwic3RyaW5nX2NoZWNrIiwic3RyaW5nIiwib3ducyIsIm9iamVjdCIsIk9iamVjdCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsInJlamVjdF9uYW1lIiwiYmFubmVkIiwiY2hhckF0Iiwic2xpY2UiLCJyZWplY3RfcHJvcGVydHkiLCJyZWplY3RfZ2xvYmFsIiwidGhhdCIsIndpbmRvdyIsImdldFN0eWxlT2JqZWN0Iiwibm9kZSIsImNhY2hlX3N0eWxlX25vZGUiLCJjYWNoZV9zdHlsZV9vYmplY3QiLCJjdXJyZW50U3R5bGUiLCJkZWZhdWx0VmlldyIsImdldENvbXB1dGVkU3R5bGUiLCJ3YWxrVGhlRE9NIiwiZnVuYyIsInNraXAiLCJmaXJzdENoaWxkIiwibmV4dFNpYmxpbmciLCJwdXJnZV9ldmVudF9oYW5kbGVycyIsInRhZ05hbWUiLCJjaGFuZ2UiLCJwYXJzZV9xdWVyeSIsInRleHQiLCJpZCIsIm1hdGNoIiwic2VsZWN0b3IiLCJxdWVyeSIsInF4IiwiZXhlYyIsIm9wIiwidmFsdWUiLCJsZW5ndGgiLCJwdXNoIiwicXVlc3QiLCJub2RlcyIsImkiLCJqIiwiaHVudGVyIiwic3RhciIsInJlc3VsdCIsImZsaXBmbG9wIiwicGVja2VyIiwibWFrZV9yb290Iiwicm9vdCIsIkJ1bmNoIiwidGhpcyIsIl9fX25vZGVzX19fIiwiX19fc3Rhcl9fXyIsImRvbSIsImFsbG93X2ZvY3VzIiwiZG9tX2V2ZW50IiwiZXYiLCJrZXkiLCJ0YXJnZXQiLCJ0aGVfZXZlbnQiLCJ0aGVfdGFyZ2V0IiwidGhlX2FjdHVhbF9ldmVudCIsImV2ZW50IiwidHlwZSIsInNyY0VsZW1lbnQiLCJkb2N1bWVudCIsInNlbGVjdGlvbiIsInRoZV9yYW5nZSIsImNyZWF0ZVJhbmdlIiwiaGFzX2ZvY3VzIiwiY2FuY2VsQnViYmxlIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwiY2hhckNvZGUiLCJrZXlDb2RlIiwic3RvcFByb3BhZ2F0aW9uIiwiYWx0S2V5IiwiY3RybEtleSIsImJ1YmJsZSIsInBhcmVudCIsImdldFBhcmVudCIsImIiLCJmaXJlIiwiZSIsInByZXZlbnREZWZhdWx0IiwicmV0dXJuVmFsdWUiLCJzaGlmdEtleSIsIngiLCJjbGllbnRYIiwieSIsImNsaWVudFkiLCJwYXJlbnROb2RlIiwiZXBoZW1lcmFsIiwicmVtb3ZlIiwiYXBwZW5kIiwiYXBwZW5kYWdlIiwicmVwIiwiZmxhZyIsIkFycmF5IiwiaXNBcnJheSIsImFwcGVuZENoaWxkIiwiY2xvbmVOb2RlIiwiY3JlYXRlVGV4dE5vZGUiLCJibHVyIiwiY2hlY2siLCJjaGVja2VkIiwiY2xhc3MiLCJ0ZXN0IiwiY2xhc3NOYW1lIiwiY2xvbmUiLCJkZWVwIiwibiIsImMiLCJhIiwiayIsImNvdW50IiwiZWFjaCIsImVtcHR5IiwicmVtb3ZlQ2hpbGQiLCJlbmFibGUiLCJkaXNhYmxlZCIsImV4cGxvZGUiLCJhcnJheSIsIm9uIiwiZm9jdXMiLCJmcmFnbWVudCIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJnZXRDaGVjayIsImdldENoZWNrcyIsImdldENsYXNzIiwiZ2V0Q2xhc3NlcyIsImdldE1hcmsiLCJnZXRNYXJrcyIsImdldE5hbWUiLCJnZXROYW1lcyIsImdldE9mZnNldEhlaWdodCIsImdldE9mZnNldEhlaWdodHMiLCJvZmZzZXRIZWlnaHQiLCJnZXRPZmZzZXRXaWR0aCIsImdldE9mZnNldFdpZHRocyIsIm9mZnNldFdpZHRoIiwiZ2V0U2VsZWN0aW9uIiwiZW5kIiwic3RhcnQiLCJyYW5nZSIsInNlbGVjdGlvblN0YXJ0Iiwic2VsZWN0aW9uRW5kIiwiY3JlYXRlVGV4dFJhbmdlIiwiZXhwYW5kIiwiaW5SYW5nZSIsImdldFN0eWxlIiwiZ2V0U3R5bGVzIiwicyIsImNzc0Zsb2F0Iiwic3R5bGVGbG9hdCIsImdldFRhZ05hbWUiLCJnZXRUYWdOYW1lcyIsInRvTG93ZXJDYXNlIiwiZ2V0VGl0bGUiLCJnZXRUaXRsZXMiLCJ0aXRsZSIsImdldFZhbHVlIiwiZ2V0VmFsdWVzIiwibm9kZU5hbWUiLCJub2RlVmFsdWUiLCJpbmRldGVybWluYXRlIiwia2xhc3MiLCJtYXJrIiwib2ZmIiwib250eXBlIiwicHJvdGVjdCIsInEiLCJyZXBsYWNlIiwicmVwbGFjZW1lbnQiLCJuZXdub2RlIiwicmVwbGFjZUNoaWxkIiwiaW5zZXJ0QmVmb3JlIiwic2VsZWN0Iiwib2xkIiwic3R5bGUiLCJ1bmRlZmluZWQiLCJ2IiwidGFnIiwibWFrZWFibGVUYWdOYW1lIiwiY3JlYXRlRWxlbWVudCIsImF1dG9jb21wbGV0ZSIsImJ1bmNoIiwiY29tYmluZSIsImNvbmNhdCIsInByZXBlbmQiLCJyZW1vdmVFbGVtZW50Iiwicm93IiwidmFsdWVzIiwidGQiLCJ0ciIsImFkZEV2ZW50TGlzdGVuZXIiLCJvbmNsaWNrIiwib25kYmxjbGljayIsIm9uZm9jdXNpbiIsIm9uZm9jdXNvdXQiLCJvbmtleXByZXNzIiwib25tb3VzZW91dCIsIm9ubW91c2Vkb3duIiwib25tb3VzZW1vdmUiLCJvbm1vdXNlb3ZlciIsIm9ubW91c2V1cCIsImFkc2FmZV9pZCIsImFkc2FmZV9saWIiLCJhcmd1bWVudHMiLCJjYWxsZWUiLCJjYWxsZXIiLCJjb25zdHJ1Y3RvciIsImV2YWwiLCJzdGFjayIsInVud2F0Y2giLCJ2YWx1ZU9mIiwid2F0Y2giLCJpbnRlcmNlcHRvcnMiLCJhYmJyIiwiYWNyb255bSIsImFkZHJlc3MiLCJhcmVhIiwiYmRvIiwiYmlnIiwiYmxvY2txdW90ZSIsImJyIiwiYnV0dG9uIiwiY2FudmFzIiwiY2FwdGlvbiIsImNlbnRlciIsImNpdGUiLCJjb2RlIiwiY29sIiwiY29sZ3JvdXAiLCJkZCIsImRlbCIsImRmbiIsImRpciIsImRpdiIsImRsIiwiZHQiLCJlbSIsImZpZWxkc2V0IiwiZm9udCIsImZvcm0iLCJoMSIsImgyIiwiaDMiLCJoNCIsImg1IiwiaDYiLCJociIsImltZyIsImlucHV0IiwiaW5zIiwia2JkIiwibGFiZWwiLCJsZWdlbmQiLCJsaSIsIm1hcCIsIm1lbnUiLCJvbCIsIm9wdGdyb3VwIiwib3B0aW9uIiwicCIsInByZSIsInNhbXAiLCJzbWFsbCIsInNwYW4iLCJzdHJvbmciLCJzdWIiLCJzdXAiLCJ0YWJsZSIsInRib2R5IiwidGV4dGFyZWEiLCJ0Zm9vdCIsInRoIiwidGhlYWQiLCJ0dCIsInUiLCJ1bCIsInZhciIsIiIsIm5vZGVsaXN0IiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJpZ25vcmUiLCIrIiwidG9VcHBlckNhc2UiLCI+IiwiIyIsImdldEVsZW1lbnRCeUlkIiwiLyIsImNoaWxkTm9kZXMiLCIqIiwiLiIsImluZGV4T2YiLCImIiwiXyIsIlsiLCJbPSIsIm1lbWJlciIsIlshPSIsIltePSIsIlskPSIsIlsqPSIsIlt+PSIsIlt8PSIsIjpibHVyIiwiOmNoZWNrZWQiLCI6ZGlzYWJsZWQiLCI6ZW5hYmxlZCIsIjpldmVuIiwiZiIsIjpmb2N1cyIsIjpoaWRkZW4iLCJ2aXNpYmlsaXR5IiwiOm9kZCIsIjp0YWciLCI6dGV4dCIsIjp0cmltIiwiOnVuY2hlY2tlZCIsIjp2aXNpYmxlIiwiY3JlYXRlIiwibyIsImdldCIsImdvIiwiZnVuIiwic2NyaXB0cyIsImUxIiwiZTIiLCJoYXMiLCJ0b1N0cmluZyIsImFwcGx5Iiwia2V5cyIsImxhdGVyIiwidGltZW91dCIsInNldFRpbWVvdXQiLCJsaWIiLCJjb25zb2xlIiwiRGVidWciLCJ3cml0ZWxuIiwib3BlcmEiLCJwb3N0RXJyb3IiLCJzZXQiLCJfaW50ZXJjZXB0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUErREEsR0FBSUEsT0FDSkEsUUFBVSxXQUNOLFlBdUhBLFNBQVNDLEdBQU1DLEdBRVgsS0FEQUYsUUFBT0csSUFBSSxrQkFBb0JELEdBQVcsdUJBRXRDRSxLQUFNLFNBQ05GLFFBQVNBLEdBQVcscUJBUzVCLFFBQVNHLEdBQWFDLEdBSWxCLE1BSHNCLGdCQUFYQSxJQUNQTCxFQUFNLDRCQUVI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QUFJK0osR0FDWSxnQkFBVjJMLE9BQ2RBLE1BQU1DLFFBQVE1TCxHQUVkNkwsTUFBTUMsVUFBVTlMLElBTXhCM0QsT0FBUSxTQUFVL0YsRUFBUUosR0FDdEIsSUFBS2EsRUFBZ0JULEVBQVFKLEdBRXpCLGtCQURPSSxHQUFPSixFQUdsQkgsTUFLSmdXLElBQUssU0FBVXpWLEVBQVFKLEVBQU15QyxHQUV6QixHQURBM0IsRUFBY1YsSUFDVFMsRUFBZ0JULEVBQVFKLEdBRXpCLFlBREFJLEVBQU9KLEdBQVF5QyxFQUduQjVDLE1BTUppVyxXQUFZLFNBQVVoQyxHQUNsQi9GLEVBQWFwTCxLQUFLbVIiLCJmaWxlIjoiYWRzYWZlLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQHByZXNlcnZlXG4gKiBAYXV0aG9yIERvdWdsYXMgQ3JvY2tmb3JkIDxkb3VnbGFzQGNyb2NrZm9yZC5jb20+XG4gKiBAdmVyc2lvbiA8JT0gdmVyc2lvbiAlPlxuICogQGRlc2NyaXB0aW9uIDwlPSBkZXNjcmlwdGlvbiAlPlxuICovXG4vLyBhZHNhZmUuanNcbi8vIDIwMTYtMDItMDdcblxuLy8gICAgUHVibGljIERvbWFpbi5cblxuLy8gICAgTk8gV0FSUkFOVFkgRVhQUkVTU0VEIE9SIElNUExJRUQuIFVTRSBBVCBZT1VSIE9XTiBSSVNLLlxuLy8gICAgU1VCSkVDVCBUTyBDSEFOR0UgV0lUSE9VVCBOT1RJQ0UuXG5cbi8vICAgIE9yaWdpbmFsIHVybDogaHR0cDovL3d3dy5BRHNhZmUub3JnL2Fkc2FmZS5qc1xuXG4vLyBUaGlzIGZpbGUgaW1wbGVtZW50cyB0aGUgY29yZSBBRFNBRkUgcnVudGltZS4gQSBzaXRlIG1heSBhZGQgYWRkaXRpb25hbFxuLy8gbWV0aG9kcyB1bmRlcnN0YW5kaW5nIHRoYXQgdGhvc2UgbWV0aG9kcyB3aWxsIGJlIG1hZGUgYXZhaWxhYmxlIHRvIGd1ZXN0XG4vLyBjb2RlLlxuXG4vLyBUaGlzIGNvZGUgc2hvdWxkIGJlIG1pbmlmaWVkIGJlZm9yZSBkZXBsb3ltZW50LlxuLy8gU2VlIGh0dHA6Ly9qYXZhc2NyaXB0LmNyb2NrZm9yZC5jb20vanNtaW4uaHRtbFxuXG4vLyBVU0UgWU9VUiBPV04gQ09QWS4gSVQgSVMgRVhUUkVNRUxZIFVOV0lTRSBUTyBMT0FEIENPREUgRlJPTSBTRVJWRVJTIFlPVSBET1xuLy8gTk9UIENPTlRST0wuXG5cbi8qZ2xvYmFsIHdpbmRvdyovXG5cbi8qanNsaW50IGJyb3dzZXIsIGRldmVsLCBmb3IsIHRoaXNcbiovXG5cbi8qcHJvcGVydHlcbiAgICBfLCBfX19ub2Rlc19fXywgX19fc3Rhcl9fXywgX2ludGVyY2VwdCwgYSwgYWJiciwgYWNyb255bSwgYWRkRXZlbnRMaXN0ZW5lcixcbiAgICBhZGRyZXNzLCBhbHRLZXksIGFwcGVuZCwgYXBwZW5kQ2hpbGQsIGFwcGx5LCBhcmVhLCBhcmd1bWVudHMsIGF1dG9jb21wbGV0ZSxcbiAgICBiLCBiZG8sIGJpZywgYmxvY2txdW90ZSwgYmx1ciwgYnIsIGJ1YmJsZSwgYnV0dG9uLCBjYWxsLCBjYWxsZWUsIGNhbGxlcixcbiAgICBjYW5jZWxCdWJibGUsIGNhbnZhcywgY2FwdGlvbiwgY2VudGVyLCBjaGFuZ2UsIGNoYXJBdCwgY2hhckNvZGUsIGNoZWNrLFxuICAgIGNoZWNrZWQsIGNoaWxkTm9kZXMsIGNpdGUsIGNsYXNzLCBjbGFzc05hbWUsIGNsaWVudFgsIGNsaWVudFksIGNsb25lLFxuICAgIGNsb25lTm9kZSwgY29kZSwgY29sLCBjb2xncm91cCwgY29tYmluZSwgY29uY2F0LCBjb25zb2xlLCBjb25zdHJ1Y3RvcixcbiAgICBjb3VudCwgY3JlYXRlLCBjcmVhdGVEb2N1bWVudEZyYWdtZW50LCBjcmVhdGVFbGVtZW50LCBjcmVhdGVSYW5nZSxcbiAgICBjcmVhdGVUZXh0Tm9kZSwgY3JlYXRlVGV4dFJhbmdlLCBjc3NGbG9hdCwgY3RybEtleSwgY3VycmVudFN0eWxlLCBkZCxcbiAgICBkZWZhdWx0VmlldywgZGVsLCBkZm4sIGRpciwgZGlzYWJsZWQsIGRpdiwgZGwsIGR0LCBlYWNoLCBlbSwgZW1wdHksIGVuYWJsZSxcbiAgICBlcGhlbWVyYWwsIGV2YWwsIGV4ZWMsIGV4cGFuZCwgZXhwbG9kZSwgZmllbGRzZXQsIGZpcmUsIGZpcnN0Q2hpbGQsIGZvY3VzLFxuICAgIGZvbnQsIGZvcm0sIGZyYWdtZW50LCBmcm9tQ2hhckNvZGUsIGdldCwgZ2V0Q2hlY2ssIGdldENoZWNrcywgZ2V0Q2xhc3MsXG4gICAgZ2V0Q2xhc3NlcywgZ2V0Q29tcHV0ZWRTdHlsZSwgZ2V0RWxlbWVudEJ5SWQsIGdldEVsZW1lbnRzQnlUYWdOYW1lLFxuICAgIGdldE1hcmssIGdldE1hcmtzLCBnZXROYW1lLCBnZXROYW1lcywgZ2V0T2Zmc2V0SGVpZ2h0LCBnZXRPZmZzZXRIZWlnaHRzLFxuICAgIGdldE9mZnNldFdpZHRoLCBnZXRPZmZzZXRXaWR0aHMsIGdldFBhcmVudCwgZ2V0U2VsZWN0aW9uLCBnZXRTdHlsZSxcbiAgICBnZXRTdHlsZXMsIGdldFRhZ05hbWUsIGdldFRhZ05hbWVzLCBnZXRUaXRsZSwgZ2V0VGl0bGVzLCBnZXRWYWx1ZSxcbiAgICBnZXRWYWx1ZXMsIGdvLCBoMSwgaDIsIGgzLCBoNCwgaDUsIGg2LCBoYXMsIGhhc093blByb3BlcnR5LCBociwgaSwgaWQsIGltZyxcbiAgICBpblJhbmdlLCBpbmRldGVybWluYXRlLCBpbmRleE9mLCBpbnB1dCwgaW5zLCBpbnNlcnRCZWZvcmUsIGlzQXJyYXksIGtiZCxcbiAgICBrZXksIGtleUNvZGUsIGtleXMsIGtsYXNzLCBsYWJlbCwgbGF0ZXIsIGxlZ2VuZCwgbGVuZ3RoLCBsaSwgbGliLCBsb2csIG1hcCxcbiAgICBtYXJrLCBtZW51LCBtZXNzYWdlLCBuYW1lLCBuZXh0U2libGluZywgbm9kZU5hbWUsIG5vZGVWYWx1ZSwgb2JqZWN0LCBvZmYsXG4gICAgb2Zmc2V0SGVpZ2h0LCBvZmZzZXRXaWR0aCwgb2wsIG9uLCBvbmNsaWNrLCBvbmRibGNsaWNrLCBvbmZvY3VzaW4sXG4gICAgb25mb2N1c291dCwgb25rZXlwcmVzcywgb25tb3VzZWRvd24sIG9ubW91c2Vtb3ZlLCBvbm1vdXNlb3V0LCBvbm1vdXNlb3ZlcixcbiAgICBvbm1vdXNldXAsIG9wLCBvcHRncm91cCwgb3B0aW9uLCBwLCBwYXJlbnQsIHBhcmVudE5vZGUsIHBvc3RFcnJvciwgcHJlLFxuICAgIHByZXBlbmQsIHByZXZlbnREZWZhdWx0LCBwcm90ZWN0LCBwcm90b3R5cGUsIHB1c2gsIHEsIHJlbW92ZSwgcmVtb3ZlQ2hpbGQsXG4gICAgcmVtb3ZlRWxlbWVudCwgcmVwbGFjZSwgcmVwbGFjZUNoaWxkLCByZXR1cm5WYWx1ZSwgcm93LCBzYW1wLCBzZWxlY3QsXG4gICAgc2VsZWN0aW9uLCBzZWxlY3Rpb25FbmQsIHNlbGVjdGlvblN0YXJ0LCBzZXQsIHNoaWZ0S2V5LCBzbGljZSwgc21hbGwsIHNwYW4sXG4gICAgc3JjRWxlbWVudCwgc3RhY2ssIHN0b3BQcm9wYWdhdGlvbiwgc3Ryb25nLCBzdHlsZSwgc3R5bGVGbG9hdCwgc3ViLCBzdXAsXG4gICAgdGFibGUsIHRhZywgdGFnTmFtZSwgdGFyZ2V0LCB0Ym9keSwgdGQsIHRlc3QsIHRleHQsIHRleHRhcmVhLCB0Zm9vdCwgdGgsXG4gICAgdGhhdCwgdGhlYWQsIHRpdGxlLCB0b0xvd2VyQ2FzZSwgdG9TdHJpbmcsIHRvVXBwZXJDYXNlLCB0ciwgdHQsIHR5cGUsIHUsXG4gICAgdWwsIHVud2F0Y2gsIHZhbHVlLCB2YWx1ZU9mLCB2YXIsIHZpc2liaWxpdHksIHdhdGNoLCB3aW5kb3csIHdyaXRlbG4sIHgsIHlcbiovXG5cbnZhciBBRFNBRkU7XG5BRFNBRkUgPSAoZnVuY3Rpb24gKCkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgdmFyIGFkc2FmZV9pZDsgICAgICAvLyBUaGUgaWQgb2YgdGhlIGN1cnJlbnQgd2lkZ2V0XG4gICAgdmFyIGFkc2FmZV9saWI7ICAgICAvLyBUaGUgc2NyaXB0IGxpYnJhcmllcyBsb2FkZWQgYnkgdGhlIGN1cnJlbnQgd2lkZ2V0XG5cbi8vIFRoZXNlIG1lbWJlciBuYW1lcyBhcmUgYmFubmVkIGZyb20gZ3Vlc3Qgc2NyaXB0cy4gVGhlIEFEU0FGRS5nZXQgYW5kXG4vLyBBRFNBRkUucHV0IG1ldGhvZHMgd2lsbCBub3QgYWxsb3cgYWNjZXNzIHRvIHRoZXNlIHByb3BlcnRpZXMuXG5cbiAgICB2YXIgYmFubmVkID0ge1xuICAgICAgICBhcmd1bWVudHM6IHRydWUsXG4gICAgICAgIGNhbGxlZTogdHJ1ZSxcbiAgICAgICAgY2FsbGVyOiB0cnVlLFxuICAgICAgICBjb25zdHJ1Y3RvcjogdHJ1ZSxcbiAgICAgICAgZXZhbDogdHJ1ZSxcbiAgICAgICAgcHJvdG90eXBlOiB0cnVlLFxuICAgICAgICBzdGFjazogdHJ1ZSxcbiAgICAgICAgdW53YXRjaDogdHJ1ZSxcbiAgICAgICAgdmFsdWVPZjogdHJ1ZSxcbiAgICAgICAgd2F0Y2g6IHRydWVcbiAgICB9O1xuXG4gICAgdmFyIGNhY2hlX3N0eWxlX29iamVjdDtcbiAgICB2YXIgY2FjaGVfc3R5bGVfbm9kZTtcbiAgICB2YXIgZGVmYXVsdFZpZXcgPSBkb2N1bWVudC5kZWZhdWx0VmlldztcbiAgICB2YXIgZXBoZW1lcmFsO1xuICAgIHZhciBmbGlwZmxvcDsgICAgICAgLy8gVXNlZCBpbiA6ZXZlbi86b2RkIHByb2Nlc3NpbmdcbiAgICB2YXIgaGFzX2ZvY3VzO1xuICAgIHZhciBodW50ZXI7ICAgICAgICAgLy8gU2V0IG9mIGh1bnRlciBwYXR0ZXJuc1xuICAgIHZhciBpbnRlcmNlcHRvcnMgPSBbXTtcblxuICAgIHZhciBtYWtlYWJsZVRhZ05hbWUgPSB7XG5cbi8vIFRoaXMgaXMgdGhlIHdoaXRlbGlzdCBvZiBlbGVtZW50cyB0aGF0IG1heSBiZSBjcmVhdGVkIHdpdGggdGhlIC50YWcodGFnTmFtZSlcbi8vIG1ldGhvZC5cblxuICAgICAgICBhOiB0cnVlLFxuICAgICAgICBhYmJyOiB0cnVlLFxuICAgICAgICBhY3JvbnltOiB0cnVlLFxuICAgICAgICBhZGRyZXNzOiB0cnVlLFxuICAgICAgICBhcmVhOiB0cnVlLFxuICAgICAgICBiOiB0cnVlLFxuICAgICAgICBiZG86IHRydWUsXG4gICAgICAgIGJpZzogdHJ1ZSxcbiAgICAgICAgYmxvY2txdW90ZTogdHJ1ZSxcbiAgICAgICAgYnI6IHRydWUsXG4gICAgICAgIGJ1dHRvbjogdHJ1ZSxcbiAgICAgICAgY2FudmFzOiB0cnVlLFxuICAgICAgICBjYXB0aW9uOiB0cnVlLFxuICAgICAgICBjZW50ZXI6IHRydWUsXG4gICAgICAgIGNpdGU6IHRydWUsXG4gICAgICAgIGNvZGU6IHRydWUsXG4gICAgICAgIGNvbDogdHJ1ZSxcbiAgICAgICAgY29sZ3JvdXA6IHRydWUsXG4gICAgICAgIGRkOiB0cnVlLFxuICAgICAgICBkZWw6IHRydWUsXG4gICAgICAgIGRmbjogdHJ1ZSxcbiAgICAgICAgZGlyOiB0cnVlLFxuICAgICAgICBkaXY6IHRydWUsXG4gICAgICAgIGRsOiB0cnVlLFxuICAgICAgICBkdDogdHJ1ZSxcbiAgICAgICAgZW06IHRydWUsXG4gICAgICAgIGZpZWxkc2V0OiB0cnVlLFxuICAgICAgICBmb250OiB0cnVlLFxuICAgICAgICBmb3JtOiB0cnVlLFxuICAgICAgICBoMTogdHJ1ZSxcbiAgICAgICAgaDI6IHRydWUsXG4gICAgICAgIGgzOiB0cnVlLFxuICAgICAgICBoNDogdHJ1ZSxcbiAgICAgICAgaDU6IHRydWUsXG4gICAgICAgIGg2OiB0cnVlLFxuICAgICAgICBocjogdHJ1ZSxcbiAgICAgICAgaTogdHJ1ZSxcbiAgICAgICAgaW1nOiB0cnVlLFxuICAgICAgICBpbnB1dDogdHJ1ZSxcbiAgICAgICAgaW5zOiB0cnVlLFxuICAgICAgICBrYmQ6IHRydWUsXG4gICAgICAgIGxhYmVsOiB0cnVlLFxuICAgICAgICBsZWdlbmQ6IHRydWUsXG4gICAgICAgIGxpOiB0cnVlLFxuICAgICAgICBtYXA6IHRydWUsXG4gICAgICAgIG1lbnU6IHRydWUsXG4gICAgICAgIG9iamVjdDogdHJ1ZSxcbiAgICAgICAgb2w6IHRydWUsXG4gICAgICAgIG9wdGdyb3VwOiB0cnVlLFxuICAgICAgICBvcHRpb246IHRydWUsXG4gICAgICAgIHA6IHRydWUsXG4gICAgICAgIHByZTogdHJ1ZSxcbiAgICAgICAgcTogdHJ1ZSxcbiAgICAgICAgc2FtcDogdHJ1ZSxcbiAgICAgICAgc2VsZWN0OiB0cnVlLFxuICAgICAgICBzbWFsbDogdHJ1ZSxcbiAgICAgICAgc3BhbjogdHJ1ZSxcbiAgICAgICAgc3Ryb25nOiB0cnVlLFxuICAgICAgICBzdWI6IHRydWUsXG4gICAgICAgIHN1cDogdHJ1ZSxcbiAgICAgICAgdGFibGU6IHRydWUsXG4gICAgICAgIHRib2R5OiB0cnVlLFxuICAgICAgICB0ZDogdHJ1ZSxcbiAgICAgICAgdGV4dGFyZWE6IHRydWUsXG4gICAgICAgIHRmb290OiB0cnVlLFxuICAgICAgICB0aDogdHJ1ZSxcbiAgICAgICAgdGhlYWQ6IHRydWUsXG4gICAgICAgIHRyOiB0cnVlLFxuICAgICAgICB0dDogdHJ1ZSxcbiAgICAgICAgdTogdHJ1ZSxcbiAgICAgICAgdWw6IHRydWUsXG4gICAgICAgIHZhcjogdHJ1ZVxuICAgIH07XG4gICAgdmFyIG5hbWU7XG4gICAgdmFyIHBlY2tlcjsgICAgIC8vIHNldCBvZiBwZWNrZXIgcGF0dGVybnNcbiAgICB2YXIgcmVzdWx0O1xuICAgIHZhciBzdGFyO1xuICAgIHZhciB0aGVfcmFuZ2U7XG4gICAgdmFyIHZhbHVlO1xuXG5cbi8vICBUaGUgZXJyb3IgZnVuY3Rpb24gaXMgY2FsbGVkIGlmIHRoZXJlIGlzIGEgdmlvbGF0aW9uIG9yIGNvbmZ1c2lvbi5cbi8vICBJdCB0aHJvd3MgYW4gZXhjZXB0aW9uLlxuXG4gICAgZnVuY3Rpb24gZXJyb3IobWVzc2FnZSkge1xuICAgICAgICBBRFNBRkUubG9nKFwiQURzYWZlIGVycm9yOiBcIiArIChtZXNzYWdlIHx8IFwiQURzYWZlIHZpb2xhdGlvbi5cIikpO1xuICAgICAgICB0aHJvdyB7XG4gICAgICAgICAgICBuYW1lOiBcIkFEc2FmZVwiLFxuICAgICAgICAgICAgbWVzc2FnZTogbWVzc2FnZSB8fCBcIkFEc2FmZSB2aW9sYXRpb24uXCJcbiAgICAgICAgfTtcbiAgICB9XG5cblxuLy8gICAgU29tZSBvZiBKYXZhU2NyaXB0J3MgaW1wbGljaXQgc3RyaW5nIGNvbnZlcnNpb25zIGNhbiBncmFudCBleHRyYW9yZGluYXJ5XG4vLyAgICBwb3dlcnMgdG8gdW50cnVzdGVkIGNvZGUuIFNvIHdlIHVzZSB0aGUgc3RyaW5nX2NoZWNrIGZ1bmN0aW9uIHRvIHByZXZlbnRcbi8vICAgIHN1Y2ggYWJ1c2VzLlxuXG4gICAgZnVuY3Rpb24gc3RyaW5nX2NoZWNrKHN0cmluZykge1xuICAgICAgICBpZiAodHlwZW9mIHN0cmluZyAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgZXJyb3IoXCJBRHNhZmUgc3RyaW5nIHZpb2xhdGlvbi5cIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0cmluZztcbiAgICB9XG5cblxuLy8gICAgVGhlIG9iamVjdC5oYXNPd25Qcm9wZXJ0eSBtZXRob2QgaGFzIGEgbnVtYmVyIG9mIGhhemFyZHMuIFNvIHdlIHdyYXAgaXQgaW5cbi8vICAgIHRoZSBvd25zIGZ1bmN0aW9uLlxuXG4gICAgZnVuY3Rpb24gb3ducyhvYmplY3QsIHN0cmluZykge1xuICAgICAgICByZXR1cm4gb2JqZWN0ICYmIHR5cGVvZiBvYmplY3QgPT09IFwib2JqZWN0XCIgJiZcbiAgICAgICAgICAgICAgICBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBzdHJpbmdfY2hlY2soc3RyaW5nKSk7XG4gICAgfVxuXG4vLyAgVGhlIHJlamVjdCBmdW5jdGlvbnMgZW5mb3JjZSB0aGUgcmVzdHJpY3Rpb24gb24gcHJvcGVydHkgbmFtZXMuXG4vLyAgcmVqZWN0X3Byb3BlcnR5IGFsbG93cyBhY2Nlc3Mgb25seSB0byBvYmplY3RzIGFuZCBhcnJheXMuIEl0IGRvZXMgbm90IGFsbG93XG4vLyAgdXNlIG9mIHRoZSBiYW5uZWQgbmFtZXMsIG9yIG5hbWVzIHRoYXQgYXJlIG5vdCBzdHJpbmdzIGFuZCBub3QgbnVtYmVycyxcbi8vICBvciBzdHJpbmdzIHRoYXQgc3RhcnQgb3IgZW5kIHdpdGggXy5cblxuICAgIGZ1bmN0aW9uIHJlamVjdF9uYW1lKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBuYW1lICE9PSBcIm51bWJlclwiICYmICh0eXBlb2YgbmFtZSAhPT0gXCJzdHJpbmdcIiB8fFxuICAgICAgICAgICAgICAgIGJhbm5lZFtuYW1lXSB8fCBuYW1lLmNoYXJBdCgwKSA9PT0gXCJfXCIgfHwgbmFtZS5zbGljZSgtMSkgPT09IFwiX1wiKTtcbiAgICB9XG5cblxuICAgIGZ1bmN0aW9uIHJlamVjdF9wcm9wZXJ0eShvYmplY3QsIG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiBvYmplY3QgIT09IFwib2JqZWN0XCIgfHwgcmVqZWN0X25hbWUobmFtZSk7XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiByZWplY3RfZ2xvYmFsKHRoYXQpIHtcbiAgICAgICAgaWYgKHRoYXQud2luZG93KSB7XG4gICAgICAgICAgICBlcnJvcigpO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBmdW5jdGlvbiBnZXRTdHlsZU9iamVjdChub2RlKSB7XG5cbi8vIFRoZSBnZXRTdHlsZU9iamVjdCBmdW5jdGlvbiByZXR1cm5zIHRoZSBjb21wdXRlZCBzdHlsZSBvYmplY3QgZm9yIGEgbm9kZS5cblxuICAgICAgICBpZiAobm9kZSA9PT0gY2FjaGVfc3R5bGVfbm9kZSkge1xuICAgICAgICAgICAgcmV0dXJuIGNhY2hlX3N0eWxlX29iamVjdDtcbiAgICAgICAgfVxuICAgICAgICBjYWNoZV9zdHlsZV9ub2RlID0gbm9kZTtcbiAgICAgICAgY2FjaGVfc3R5bGVfb2JqZWN0ID1cbiAgICAgICAgICAgICAgICBub2RlLmN1cnJlbnRTdHlsZSB8fCBkZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKG5vZGUsIFwiXCIpO1xuICAgICAgICByZXR1cm4gY2FjaGVfc3R5bGVfb2JqZWN0O1xuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gd2Fsa1RoZURPTShub2RlLCBmdW5jLCBza2lwKSB7XG5cbi8vIFJlY3Vyc2l2ZWx5IHRyYXZlcnNlIHRoZSBET00gdHJlZSwgc3RhcnRpbmcgd2l0aCB0aGUgbm9kZSwgaW4gZG9jdW1lbnRcbi8vIHNvdXJjZSBvcmRlciwgY2FsbGluZyB0aGUgZnVuYyBvbiBlYWNoIG5vZGUgdmlzaXN0ZWQuXG5cbiAgICAgICAgaWYgKCFza2lwKSB7XG4gICAgICAgICAgICBmdW5jKG5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIG5vZGUgPSBub2RlLmZpcnN0Q2hpbGQ7XG4gICAgICAgIHdoaWxlIChub2RlKSB7XG4gICAgICAgICAgICB3YWxrVGhlRE9NKG5vZGUsIGZ1bmMpO1xuICAgICAgICAgICAgbm9kZSA9IG5vZGUubmV4dFNpYmxpbmc7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIGZ1bmN0aW9uIHB1cmdlX2V2ZW50X2hhbmRsZXJzKG5vZGUpIHtcblxuLy8gV2UgYXR0YWNoIGFsbCBldmVudCBoYW5kbGVycyB0byBhbiBcIl9fXyBvbiBfX19cIiBwcm9wZXJ0eS4gVGhlIHByb3BlcnR5IG5hbWVcbi8vIGNvbnRhaW5zIHNwYWNlcyB0byBpbnN1cmUgdGhhdCB0aGVyZSBpcyBubyBjb2xsaXNpb24gd2l0aCBIVE1MIGF0dHJpYnVlcy5cbi8vIEtlZXBpbmcgdGhlIGhhbmRsZXJzIGluIGEgc2luZ2xlIHByb3BlcnR5IG1ha2VzIGl0IGVhc3kgdG8gcmVtb3ZlIHRoZW1cbi8vIGFsbCBhdCBvbmNlLiBSZW1vdmFsIGlzIHJlcXVpcmVkIHRvIGF2b2lkIG1lbW9yeSBsZWFrYWdlIG9uIElFNiBhbmQgSUU3LlxuXG4gICAgICAgIHdhbGtUaGVET00obm9kZSwgZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICAgIGlmIChub2RlLnRhZ05hbWUpIHtcbiAgICAgICAgICAgICAgICBub2RlW1wiX19fIG9uIF9fX1wiXSA9IG51bGw7XG4gICAgICAgICAgICAgICAgbm9kZS5jaGFuZ2UgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cblxuICAgIGZ1bmN0aW9uIHBhcnNlX3F1ZXJ5KHRleHQsIGlkKSB7XG5cbi8vIENvbnZlcnQgYSBxdWVyeSBzdHJpbmcgaW50byBhbiBhcnJheSBvZiBvcC9uYW1lL3ZhbHVlIHNlbGVjdG9ycy5cbi8vIEEgcXVlcnkgc3RyaW5nIGlzIGEgc2VxdWVuY2Ugb2YgdHJpcGxlcyB3cmFwcGVkIGluIGJyYWNrZXRzOyBvciBuYW1lcyxcbi8vIHBvc3NpYmx5IHByZWZpeGVkIGJ5ICMgLiAmID4gXywgb3IgOm9wdGlvbiwgb3IgKiBvciAvLiBBIHRyaXBsZSBpcyBhIG5hbWUsXG4vLyBhbmQgb3BlcmF0b3IgKG9uZSBvZiBbPSwgWyE9LCBbKj0sIFt+PSwgW3w9LCBbJD0sIG9yIFtePSkgYW5kIGEgdmFsdWUuXG5cbi8vIElmIHRoZSBpZCBwYXJhbWV0ZXIgaXMgc3VwcGxpZWQsIHRoZW4gdGhlIG5hbWUgZm9sbG93aW5nICMgbXVzdCBoYXZlIHRoZVxuLy8gaWQgYXMgYSBwcmVmaXggYW5kIG11c3QgbWF0Y2ggdGhlIEFEc2FmZSBydWxlIGZvciBpZDogYmVpbmcgYWxsIHVwcGVyY2FzZVxuLy8gbGV0dGVycyBhbmQgZGlnaXRzIHdpdGggb25lIHVuZGVyYmFyLlxuXG4vLyBBIG5hbWUgbXVzdCBiZSBhbGwgbG93ZXIgY2FzZSBhbmQgbWF5IGNvbnRhaW4gZGlnaXRzLCAtLCBvciBfLlxuXG4gICAgICAgIHZhciBtYXRjaDsgICAgICAgICAgLy8gQSBtYXRjaCBhcnJheVxuICAgICAgICB2YXIgcXVlcnkgPSBbXTsgICAgIC8vIFRoZSByZXN1bHRpbmcgcXVlcnkgYXJyYXlcbiAgICAgICAgdmFyIHNlbGVjdG9yO1xuICAgICAgICB2YXIgcXggPSAoaWQpXG4gICAgICAgICAgICA/IC9eXFxzKig/OihbXFwqXFwvXSl8XFxbXFxzKihbYS16XVswLTlhLXpfXFwtXSopXFxzKig/OihbISp+XFx8JFxcXl0/PSlcXHMqKFswLTlBLVphLXpfXFwtKiUmOy5cXC86IV0rKVxccyopP1xcXXwjXFxzKihbQS1aXStfW0EtWjAtOV0rKXw6XFxzKihbYS16XSspfChbLiZfPlxcK10/KVxccyooW2Etel1bMC05YS16XFwtXSopKVxccyovXG4gICAgICAgICAgICA6IC9eXFxzKig/OihbXFwqXFwvXSl8XFxbXFxzKihbYS16XVswLTlhLXpfXFwtXSopXFxzKig/OihbISp+XFx8JFxcXl0/PSlcXHMqKFswLTlBLVphLXpfXFwtKiUmOy5cXC86IV0rKVxccyopP1xcXXwjXFxzKihbXFwtQS1aYS16MC05X10rKXw6XFxzKihbYS16XSspfChbLiZfPlxcK10/KVxccyooW2Etel1bMC05YS16XFwtXSopKVxccyovO1xuXG4vLyBMb29wIG92ZXIgYWxsIG9mIHRoZSBzZWxlY3RvcnMgaW4gdGhlIHRleHQuXG5cbiAgICAgICAgZG8ge1xuXG4vLyBUaGUgcXggdGVhc2VzIHRoZSBjb21wb25lbnRzIG9mIG9uZSBzZWxlY3RvciBvdXQgb2YgdGhlIHRleHQsIGlnbm9yaW5nXG4vLyB3aGl0ZXNwYWNlLlxuXG4vLyAgICAgICAgICBtYXRjaFswXSAgdGhlIHdob2xlIHNlbGVjdG9yXG4vLyAgICAgICAgICBtYXRjaFsxXSAgKiAvXG4vLyAgICAgICAgICBtYXRjaFsyXSAgYXR0cmlidXRlIG5hbWVcbi8vICAgICAgICAgIG1hdGNoWzNdICA9ICE9ICo9IH49IHw9ICQ9IF49XG4vLyAgICAgICAgICBtYXRjaFs0XSAgYXR0cmlidXRlIHZhbHVlXG4vLyAgICAgICAgICBtYXRjaFs1XSAgIyBpZFxuLy8gICAgICAgICAgbWF0Y2hbNl0gIDogb3B0aW9uXG4vLyAgICAgICAgICBtYXRjaFs3XSAgLiAmIF8gPiArXG4vLyAgICAgICAgICBtYXRjaFs4XSAgICAgIG5hbWVcblxuICAgICAgICAgICAgbWF0Y2ggPSBxeC5leGVjKHN0cmluZ19jaGVjayh0ZXh0KSk7XG4gICAgICAgICAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgICAgICAgICAgZXJyb3IoXCJBRHNhZmU6IEJhZCBxdWVyeTpcIiArIHRleHQpO1xuICAgICAgICAgICAgfVxuXG4vLyBNYWtlIGEgc2VsZWN0b3Igb2JqZWN0IGFuZCBzdHVmZiBpdCBpbiB0aGUgcXVlcnkuXG5cbiAgICAgICAgICAgIGlmIChtYXRjaFsxXSkge1xuXG4vLyBUaGUgc2VsZWN0b3IgaXMgKiBvciAvXG5cbiAgICAgICAgICAgICAgICBzZWxlY3RvciA9IHtcbiAgICAgICAgICAgICAgICAgICAgb3A6IG1hdGNoWzFdXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobWF0Y2hbMl0pIHtcblxuLy8gVGhlIHNlbGVjdG9yIGlzIGluIGJyYWNrZXRzLlxuXG4gICAgICAgICAgICAgICAgc2VsZWN0b3IgPSAobWF0Y2hbM10pXG4gICAgICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3A6IFwiW1wiICsgbWF0Y2hbM10sXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBtYXRjaFsyXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBtYXRjaFs0XVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3A6IFwiW1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogbWF0Y2hbMl1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobWF0Y2hbNV0pIHtcblxuLy8gVGhlIHNlbGVjdG9yIGlzIGFuIGlkLlxuXG4gICAgICAgICAgICAgICAgaWYgKHF1ZXJ5Lmxlbmd0aCA+IDAgfHwgbWF0Y2hbNV0ubGVuZ3RoIDw9IGlkLmxlbmd0aCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hbNV0uc2xpY2UoMCwgaWQubGVuZ3RoKSAhPT0gaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IoXCJBRHNhZmU6IEJhZCBxdWVyeTogXCIgKyB0ZXh0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2VsZWN0b3IgPSB7XG4gICAgICAgICAgICAgICAgICAgIG9wOiBcIiNcIixcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogbWF0Y2hbNV1cbiAgICAgICAgICAgICAgICB9O1xuXG4vLyBUaGUgc2VsZWN0b3IgaXMgYSBjb2xvbi5cblxuICAgICAgICAgICAgfSBlbHNlIGlmIChtYXRjaFs2XSkge1xuICAgICAgICAgICAgICAgIHNlbGVjdG9yID0ge1xuICAgICAgICAgICAgICAgICAgICBvcDogXCI6XCIgKyBtYXRjaFs2XVxuICAgICAgICAgICAgICAgIH07XG5cbi8vIFRoZSBzZWxlY3RvciBpcyBvbmUgb2YgPiArIC4gJiBfIG9yIGEgbmFrZWQgdGFnIG5hbWVcblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZWxlY3RvciA9IHtcbiAgICAgICAgICAgICAgICAgICAgb3A6IG1hdGNoWzddLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBtYXRjaFs4XVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG5cbi8vIEFkZCB0aGUgc2VsZWN0b3IgdG8gdGhlIHF1ZXJ5LlxuXG4gICAgICAgICAgICBxdWVyeS5wdXNoKHNlbGVjdG9yKTtcblxuLy8gUmVtb3ZlIHRoZSBzZWxlY3RvciBmcm9tIHRoZSB0ZXh0LiBJZiB0aGVyZSBpcyBtb3JlIHRleHQsIGhhdmUgYW5vdGhlciBnby5cblxuICAgICAgICAgICAgdGV4dCA9IHRleHQuc2xpY2UobWF0Y2hbMF0ubGVuZ3RoKTtcbiAgICAgICAgfSB3aGlsZSAodGV4dCk7XG4gICAgICAgIHJldHVybiBxdWVyeTtcbiAgICB9XG5cblxuICAgIGh1bnRlciA9IHtcblxuLy8gVGhlc2UgZnVuY3Rpb25zIGltcGxlbWVudCB0aGUgaHVudGVyIGJlaGF2aW9ycy5cblxuICAgICAgICBcIlwiOiBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgICAgdmFyIGFycmF5O1xuICAgICAgICAgICAgdmFyIG5vZGVsaXN0ID0gbm9kZS5nZXRFbGVtZW50c0J5VGFnTmFtZShuYW1lKTtcbiAgICAgICAgICAgIHZhciBpO1xuICAgICAgICAgICAgdmFyIGxlbmd0aDtcblxuLy8gZ2V0RWxlbWVudHNCeVRhZ05hbWUgcHJvZHVjZXMgYSBub2RlTGlzdCwgd2hpY2ggaXMgb25lIG9mIHRoZSB3b3JsZCdzIG1vc3Rcbi8vIGluZWZmaWNpZW50IGRhdGEgc3RydWN0dXJlcy4gSXQgaXMgc28gc2xvdyB0aGF0IEphdmFTY3JpcHQncyBwc2V1ZG8gYXJyYXlzXG4vLyBsb29rIHRlcnJpZmljYWxseSBzd2lmdCBieSBjb21wYXJpc29uLiBTbyB3ZSBkbyB0aGUgY29udmVyc2lvbi4gVGhpcyBpc1xuLy8gZWFzaWx5IGRvbmUgb24gc29tZSBicm93c2VycywgbGVzcyBlYXNpbHkgb24gb3RoZXJzLlxuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGFycmF5ID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwobm9kZWxpc3QsIDApO1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IChyZXN1bHQubGVuZ3RoKVxuICAgICAgICAgICAgICAgICAgICA/IHJlc3VsdC5jb25jYXQoYXJyYXkpXG4gICAgICAgICAgICAgICAgICAgIDogYXJyYXk7XG4gICAgICAgICAgICB9IGNhdGNoIChpZ25vcmUpIHtcbiAgICAgICAgICAgICAgICBsZW5ndGggPSBub2RlbGlzdC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG5vZGVsaXN0W2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiK1wiOiBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgICAgbm9kZSA9IG5vZGUubmV4dFNpYmxpbmc7XG4gICAgICAgICAgICBuYW1lID0gbmFtZS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgd2hpbGUgKG5vZGUgJiYgIW5vZGUudGFnTmFtZSkge1xuICAgICAgICAgICAgICAgIG5vZGUgPSBub2RlLm5leHRTaWJsaW5nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5vZGUgJiYgbm9kZS50YWdOYW1lID09PSBuYW1lKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiPlwiOiBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgICAgbm9kZSA9IG5vZGUuZmlyc3RDaGlsZDtcbiAgICAgICAgICAgIG5hbWUgPSBuYW1lLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgICB3aGlsZSAobm9kZSkge1xuICAgICAgICAgICAgICAgIGlmIChub2RlLnRhZ05hbWUgPT09IG5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobm9kZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG5vZGUgPSBub2RlLm5leHRTaWJsaW5nO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcIiNcIjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChuYW1lKTtcbiAgICAgICAgICAgIGlmIChuLnRhZ05hbWUpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXCIvXCI6IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgICB2YXIgbm9kZXMgPSBub2RlLmNoaWxkTm9kZXM7XG4gICAgICAgICAgICB2YXIgaTtcbiAgICAgICAgICAgIHZhciBsZW5ndGggPSBub2Rlcy5sZW5ndGg7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChub2Rlc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiKlwiOiBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgICAgc3RhciA9IHRydWU7XG4gICAgICAgICAgICB3YWxrVGhlRE9NKG5vZGUsIGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobm9kZSk7XG4gICAgICAgICAgICB9LCB0cnVlKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBwZWNrZXIgPSB7XG4gICAgICAgIFwiLlwiOiBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgICAgdmFyIGNsYXNzeSA9IFwiIFwiICsgbm9kZS5jbGFzc05hbWUgKyBcIiBcIjtcbiAgICAgICAgICAgIHJldHVybiBjbGFzc3kuaW5kZXhPZihcIiBcIiArIG5hbWUgKyBcIiBcIikgPj0gMDtcbiAgICAgICAgfSxcbiAgICAgICAgXCImXCI6IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgICByZXR1cm4gbm9kZS5uYW1lID09PSBuYW1lO1xuICAgICAgICB9LFxuICAgICAgICBcIl9cIjogZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybiBub2RlLnR5cGUgPT09IG5hbWU7XG4gICAgICAgIH0sXG4gICAgICAgIFwiW1wiOiBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBub2RlW25hbWVdID09PSBcInN0cmluZ1wiO1xuICAgICAgICB9LFxuICAgICAgICBcIls9XCI6IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgICB2YXIgbWVtYmVyID0gbm9kZVtuYW1lXTtcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgbWVtYmVyID09PSBcInN0cmluZ1wiICYmIG1lbWJlciA9PT0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIFwiWyE9XCI6IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgICB2YXIgbWVtYmVyID0gbm9kZVtuYW1lXTtcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgbWVtYmVyID09PSBcInN0cmluZ1wiICYmIG1lbWJlciAhPT0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIFwiW149XCI6IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgICB2YXIgbWVtYmVyID0gbm9kZVtuYW1lXTtcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgbWVtYmVyID09PSBcInN0cmluZ1wiICYmXG4gICAgICAgICAgICAgICAgICAgIG1lbWJlci5zbGljZSgwLCBtZW1iZXIubGVuZ3RoKSA9PT0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIFwiWyQ9XCI6IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgICB2YXIgbWVtYmVyID0gbm9kZVtuYW1lXTtcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgbWVtYmVyID09PSBcInN0cmluZ1wiICYmXG4gICAgICAgICAgICAgICAgICAgIG1lbWJlci5zbGljZSgtbWVtYmVyLmxlbmd0aCkgPT09IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBcIlsqPVwiOiBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgICAgdmFyIG1lbWJlciA9IG5vZGVbbmFtZV07XG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIG1lbWJlciA9PT0gXCJzdHJpbmdcIiAmJlxuICAgICAgICAgICAgICAgICAgICBtZW1iZXIuaW5kZXhPZih2YWx1ZSkgPj0gMDtcbiAgICAgICAgfSxcbiAgICAgICAgXCJbfj1cIjogZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICAgIHZhciBtZW1iZXIgPSBub2RlW25hbWVdO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBtZW1iZXIgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICBtZW1iZXIgPSBcIiBcIiArIG1lbWJlciArIFwiIFwiO1xuICAgICAgICAgICAgICAgIHJldHVybiBtZW1iZXIuaW5kZXhPZihcIiBcIiArIHZhbHVlICsgXCIgXCIpID49IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFwiW3w9XCI6IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgICB2YXIgbWVtYmVyID0gbm9kZVtuYW1lXTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgbWVtYmVyID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgbWVtYmVyID0gXCItXCIgKyBtZW1iZXIgKyBcIi1cIjtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWVtYmVyLmluZGV4T2YoXCItXCIgKyB2YWx1ZSArIFwiLVwiKSA+PSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcIjpibHVyXCI6IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgICByZXR1cm4gbm9kZSAhPT0gaGFzX2ZvY3VzO1xuICAgICAgICB9LFxuICAgICAgICBcIjpjaGVja2VkXCI6IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgICByZXR1cm4gbm9kZS5jaGVja2VkO1xuICAgICAgICB9LFxuICAgICAgICBcIjpkaXNhYmxlZFwiOiBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgICAgcmV0dXJuIG5vZGUudGFnTmFtZSAmJiBub2RlLmRpc2FibGVkO1xuICAgICAgICB9LFxuICAgICAgICBcIjplbmFibGVkXCI6IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgICByZXR1cm4gbm9kZS50YWdOYW1lICYmICFub2RlLmRpc2FibGVkO1xuICAgICAgICB9LFxuICAgICAgICBcIjpldmVuXCI6IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgICB2YXIgZjtcbiAgICAgICAgICAgIGlmIChub2RlLnRhZ05hbWUpIHtcbiAgICAgICAgICAgICAgICBmID0gZmxpcGZsb3A7XG4gICAgICAgICAgICAgICAgZmxpcGZsb3AgPSAhZmxpcGZsb3A7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGY7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0sXG4gICAgICAgIFwiOmZvY3VzXCI6IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgICByZXR1cm4gbm9kZSA9PT0gaGFzX2ZvY3VzO1xuICAgICAgICB9LFxuICAgICAgICBcIjpoaWRkZW5cIjogZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybiBub2RlLnRhZ05hbWUgJiYgZ2V0U3R5bGVPYmplY3Qobm9kZSkudmlzaWJpbGl0eSAhPT0gXCJ2aXNpYmxlXCI7XG4gICAgICAgIH0sXG4gICAgICAgIFwiOm9kZFwiOiBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgICAgaWYgKG5vZGUudGFnTmFtZSkge1xuICAgICAgICAgICAgICAgIGZsaXBmbG9wID0gIWZsaXBmbG9wO1xuICAgICAgICAgICAgICAgIHJldHVybiBmbGlwZmxvcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSxcbiAgICAgICAgXCI6dGFnXCI6IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgICByZXR1cm4gbm9kZS50YWdOYW1lO1xuICAgICAgICB9LFxuICAgICAgICBcIjp0ZXh0XCI6IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgICByZXR1cm4gbm9kZS5ub2RlTmFtZSA9PT0gXCIjdGV4dFwiO1xuICAgICAgICB9LFxuICAgICAgICBcIjp0cmltXCI6IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgICByZXR1cm4gbm9kZS5ub2RlTmFtZSAhPT0gXCIjdGV4dFwiIHx8ICgvXFxXLy50ZXN0KG5vZGUubm9kZVZhbHVlKSk7XG4gICAgICAgIH0sXG4gICAgICAgIFwiOnVuY2hlY2tlZFwiOiBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgICAgcmV0dXJuIG5vZGUudGFnTmFtZSAmJiAhbm9kZS5jaGVja2VkO1xuICAgICAgICB9LFxuICAgICAgICBcIjp2aXNpYmxlXCI6IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgICAgICByZXR1cm4gbm9kZS50YWdOYW1lICYmIGdldFN0eWxlT2JqZWN0KG5vZGUpLnZpc2liaWxpdHkgPT09IFwidmlzaWJsZVwiO1xuICAgICAgICB9XG4gICAgfTtcblxuXG4gICAgZnVuY3Rpb24gcXVlc3QocXVlcnksIG5vZGVzKSB7XG4gICAgICAgIHZhciBzZWxlY3RvcjtcbiAgICAgICAgdmFyIGZ1bmM7XG4gICAgICAgIHZhciBpO1xuICAgICAgICB2YXIgajtcblxuLy8gU3RlcCB0aHJvdWdoIGVhY2ggc2VsZWN0b3IuXG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHF1ZXJ5Lmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICBzZWxlY3RvciA9IHF1ZXJ5W2ldO1xuICAgICAgICAgICAgbmFtZSA9IHNlbGVjdG9yLm5hbWU7XG4gICAgICAgICAgICBmdW5jID0gaHVudGVyW3NlbGVjdG9yLm9wXTtcblxuLy8gVGhlcmUgYXJlIHR3byBraW5kcyBvZiBzZWxlY3RvcnM6IGh1bnRlcnMgYW5kIHBlY2tlcnMuIElmIHRoaXMgaXMgYSBodW50ZXIsXG4vLyBsb29wIHRocm91Z2ggdGhlIHRoZSBub2RlcywgcGFzc2luZyBlYWNoIG5vZGUgdG8gdGhlIGh1bnRlciBmdW5jdGlvbi5cbi8vIEFjY3VtdWxhdGUgYWxsIHRoZSBub2RlcyBpdCBmaW5kcy5cblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBmdW5jID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3Rhcikge1xuICAgICAgICAgICAgICAgICAgICBlcnJvcihcIkFEc2FmZTogUXVlcnkgdmlvbGF0aW9uOiAqXCIgKyBzZWxlY3Rvci5vcCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKHNlbGVjdG9yLm5hbWUgfHwgXCJcIikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXN1bHQgPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgbm9kZXMubGVuZ3RoOyBqICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgZnVuYyhub2Rlc1tqXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcblxuLy8gSWYgdGhpcyBpcyBhIHBlY2tlciwgZ2V0IGl0cyBmdW5jdGlvbi4gVGhlcmUgaXMgYSBzcGVjaWFsIGNhc2UgZm9yXG4vLyB0aGUgOmZpcnN0IGFuZCA6cmVzdCBzZWxlY3RvcnMgYmVjYXVzZSB0aGV5IGFyZSBzbyBzaW1wbGUuXG5cbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHNlbGVjdG9yLnZhbHVlO1xuICAgICAgICAgICAgICAgIGZsaXBmbG9wID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZnVuYyA9IHBlY2tlcltzZWxlY3Rvci5vcF07XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmdW5jICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChzZWxlY3Rvci5vcCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiOmZpcnN0XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBub2Rlcy5zbGljZSgwLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiOnJlc3RcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IG5vZGVzLnNsaWNlKDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcihcIkFEc2FmZTogUXVlcnkgdmlvbGF0aW9uOiA6XCIgKyBzZWxlY3Rvci5vcCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4vLyBGb3IgdGhlIG90aGVyIHNlbGVjdG9ycywgbWFrZSBhbiBhcnJheSBvZiBub2RlcyB0aGF0IGFyZSBmaWx0ZXJlZCBieVxuLy8gdGhlIHBlY2tlciBmdW5jdGlvbi5cblxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IG5vZGVzLmxlbmd0aDsgaiArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZnVuYyhub2Rlc1tqXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChub2Rlc1tqXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBub2RlcyA9IHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuXG4gICAgZnVuY3Rpb24gbWFrZV9yb290KHJvb3QsIGlkKSB7XG5cbiAgICAgICAgaWYgKGlkKSB7XG4gICAgICAgICAgICBpZiAocm9vdC50YWdOYW1lICE9PSBcIkRJVlwiKSB7XG4gICAgICAgICAgICAgICAgZXJyb3IoXCJBRHNhZmU6IEJhZCBub2RlLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChyb290LnRhZ05hbWUgIT09IFwiQk9EWVwiKSB7XG4gICAgICAgICAgICAgICAgZXJyb3IoXCJBRHNhZmU6IEJhZCBub2RlLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4vLyBBIEJ1bmNoIGlzIGEgY29udGFpbmVyIHRoYXQgaG9sZHMgemVybyBvciBtb3JlIGRvbSBub2Rlcy5cbi8vIEl0IGhhcyBtYW55IHVzZWZ1bCBtZXRob2RzLlxuXG4gICAgICAgIGZ1bmN0aW9uIEJ1bmNoKG5vZGVzKSB7XG4gICAgICAgICAgICB0aGlzLl9fX25vZGVzX19fID0gbm9kZXM7XG4gICAgICAgICAgICB0aGlzLl9fX3N0YXJfX18gPSBzdGFyICYmIG5vZGVzLmxlbmd0aCA+IDE7XG4gICAgICAgICAgICBzdGFyID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYWxsb3dfZm9jdXMgPSB0cnVlO1xuICAgICAgICB2YXIgZG9tO1xuICAgICAgICB2YXIgZG9tX2V2ZW50ID0gZnVuY3Rpb24gKGV2KSB7XG4gICAgICAgICAgICB2YXIga2V5O1xuICAgICAgICAgICAgdmFyIHRhcmdldDtcbiAgICAgICAgICAgIHZhciB0aGF0O1xuICAgICAgICAgICAgdmFyIHRoZV9ldmVudDtcbiAgICAgICAgICAgIHZhciB0aGVfdGFyZ2V0O1xuICAgICAgICAgICAgdmFyIHRoZV9hY3R1YWxfZXZlbnQgPSBldiB8fCBldmVudDtcbiAgICAgICAgICAgIHZhciB0eXBlID0gdGhlX2FjdHVhbF9ldmVudC50eXBlO1xuXG4vLyBHZXQgdGhlIHRhcmdldCBub2RlIGFuZCB3cmFwIGl0IGluIGEgYnVuY2guXG5cbiAgICAgICAgICAgIHRoZV90YXJnZXQgPSB0aGVfYWN0dWFsX2V2ZW50LnRhcmdldCB8fCB0aGVfYWN0dWFsX2V2ZW50LnNyY0VsZW1lbnQ7XG4gICAgICAgICAgICB0YXJnZXQgPSBuZXcgQnVuY2goW3RoZV90YXJnZXRdKTtcbiAgICAgICAgICAgIHRoYXQgPSB0YXJnZXQ7XG5cbi8vIFVzZSB0aGUgUFBLIGhhY2sgdG8gbWFrZSBmb2N1cyBidWJibHkgb24gSUUuXG4vLyBXaGVuIGEgd2lkZ2V0IGhhcyBmb2N1cywgaXQgY2FuIHVzZSB0aGUgZm9jdXMgbWV0aG9kLlxuXG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJtb3VzZWRvd25cIjpcbiAgICAgICAgICAgICAgICBhbGxvd19mb2N1cyA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LnNlbGVjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICB0aGVfcmFuZ2UgPSBkb2N1bWVudC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiZm9jdXNcIjpcbiAgICAgICAgICAgIGNhc2UgXCJmb2N1c2luXCI6XG4gICAgICAgICAgICAgICAgYWxsb3dfZm9jdXMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGhhc19mb2N1cyA9IHRoZV90YXJnZXQ7XG4gICAgICAgICAgICAgICAgdGhlX2FjdHVhbF9ldmVudC5jYW5jZWxCdWJibGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0eXBlID0gXCJmb2N1c1wiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImJsdXJcIjpcbiAgICAgICAgICAgIGNhc2UgXCJmb2N1c291dFwiOlxuICAgICAgICAgICAgICAgIGFsbG93X2ZvY3VzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaGFzX2ZvY3VzID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0eXBlID0gXCJibHVyXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwia2V5cHJlc3NcIjpcbiAgICAgICAgICAgICAgICBhbGxvd19mb2N1cyA9IHRydWU7XG4gICAgICAgICAgICAgICAgaGFzX2ZvY3VzID0gdGhlX3RhcmdldDtcbiAgICAgICAgICAgICAgICBrZXkgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHRoZV9hY3R1YWxfZXZlbnQuY2hhckNvZGUgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoZV9hY3R1YWxfZXZlbnQua2V5Q29kZSk7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChrZXkpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiXFx1MDAwZFwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJcXHUwMDBhXCI6XG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSBcImVudGVya2V5XCI7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJcXHUwMDFiXCI6XG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSBcImVzY2FwZWtleVwiO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbi8vIFRoaXMgaXMgYSB3b3JrYXJvdW5kIGZvciBTYWZhcmkuXG5cbiAgICAgICAgICAgIGNhc2UgXCJjbGlja1wiOlxuICAgICAgICAgICAgICAgIGFsbG93X2ZvY3VzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGVfYWN0dWFsX2V2ZW50LmNhbmNlbEJ1YmJsZSAmJlxuICAgICAgICAgICAgICAgICAgICB0aGVfYWN0dWFsX2V2ZW50LnN0b3BQcm9wYWdhdGlvbikge1xuICAgICAgICAgICAgICAgIHRoZV9hY3R1YWxfZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICB9XG5cbi8vIE1ha2UgdGhlIGV2ZW50IG9iamVjdC5cblxuICAgICAgICAgICAgdGhlX2V2ZW50ID0ge1xuICAgICAgICAgICAgICAgIGFsdEtleTogdGhlX2FjdHVhbF9ldmVudC5hbHRLZXksXG4gICAgICAgICAgICAgICAgY3RybEtleTogdGhlX2FjdHVhbF9ldmVudC5jdHJsS2V5LFxuICAgICAgICAgICAgICAgIGJ1YmJsZTogZnVuY3Rpb24gKCkge1xuXG4vLyBCdWJibGUgdXAuIEdldCB0aGUgcGFyZW50IG9mIHRoYXQgbm9kZS4gSXQgYmVjb21lcyB0aGUgbmV3IHRoYXQuXG4vLyBnZXRQYXJlbnQgdGhyb3dzIHdoZW4gYnViYmxpbmcgaXMgbm90IHBvc3NpYmxlLlxuXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFyZW50ID0gdGhhdC5nZXRQYXJlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBiID0gcGFyZW50Ll9fX25vZGVzX19fWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhhdCA9IHBhcmVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoZV9ldmVudC50aGF0ID0gdGhhdDtcblxuLy8gSWYgdGhhdCBub2RlIGhhcyBhbiBldmVudCBoYW5kbGVyLCBmaXJlIGl0LiBPdGhlcndpc2UsIGJ1YmJsZSB1cC5cblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJbXCJfX18gb24gX19fXCJdICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJbXCJfX18gb24gX19fXCJdW3R5cGVdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5maXJlKHRoZV9ldmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZV9ldmVudC5idWJibGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IoZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgICAgICAgIHByZXZlbnREZWZhdWx0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGVfYWN0dWFsX2V2ZW50LnByZXZlbnREZWZhdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGVfYWN0dWFsX2V2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhlX2FjdHVhbF9ldmVudC5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2hpZnRLZXk6IHRoZV9hY3R1YWxfZXZlbnQuc2hpZnRLZXksXG4gICAgICAgICAgICAgICAgdGFyZ2V0OiB0YXJnZXQsXG4gICAgICAgICAgICAgICAgdGhhdDogdGhhdCxcbiAgICAgICAgICAgICAgICB0eXBlOiB0eXBlLFxuICAgICAgICAgICAgICAgIHg6IHRoZV9hY3R1YWxfZXZlbnQuY2xpZW50WCxcbiAgICAgICAgICAgICAgICB5OiB0aGVfYWN0dWFsX2V2ZW50LmNsaWVudFlcbiAgICAgICAgICAgIH07XG5cbi8vIElmIHRoZSB0YXJnZXQgaGFzIGV2ZW50IGhhbmRsZXJzLCB0aGVuIGZpcmUgdGhlbS4gT3RoZXJ3aXNlLCBidWJibGUgdXAuXG5cbiAgICAgICAgICAgIGlmICh0aGVfdGFyZ2V0W1wiX19fIG9uIF9fX1wiXSAmJlxuICAgICAgICAgICAgICAgICAgICB0aGVfdGFyZ2V0W1wiX19fIG9uIF9fX1wiXVt0aGVfZXZlbnQudHlwZV0pIHtcbiAgICAgICAgICAgICAgICB0YXJnZXQuZmlyZSh0aGVfZXZlbnQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGVfdGFyZ2V0ID0gdGhlX3RhcmdldC5wYXJlbnROb2RlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoZV90YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGVfdGFyZ2V0W1wiX19fIG9uIF9fX1wiXSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZV90YXJnZXRbXCJfX18gb24gX19fXCJdW3RoZV9ldmVudC50eXBlXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhhdCA9IG5ldyBCdW5jaChbdGhlX3RhcmdldF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhlX2V2ZW50LnRoYXQgPSB0aGF0O1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5maXJlKHRoZV9ldmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhlX3RhcmdldFtcIl9fX2Fkc2FmZSByb290X19fXCJdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGVfZXZlbnQudHlwZSA9PT0gXCJlc2NhcGVrZXlcIikge1xuICAgICAgICAgICAgICAgIGlmIChlcGhlbWVyYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgZXBoZW1lcmFsLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlcGhlbWVyYWwgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhhdCA9IG51bGw7XG4gICAgICAgICAgICB0aGVfYWN0dWFsX2V2ZW50ID0gbnVsbDtcbiAgICAgICAgICAgIHRoZV9ldmVudCA9IG51bGw7XG4gICAgICAgICAgICB0aGVfdGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfTtcblxuLy8gTWFyayB0aGUgbm9kZSBhcyBhIHJvb3QuIFRoaXMgcHJldmVudHMgZXZlbnQgYnViYmxpbmcgZnJvbSBwcm9wYWdhdGluZ1xuLy8gcGFzdCBpdC5cblxuICAgICAgICByb290W1wiX19fYWRzYWZlIHJvb3RfX19cIl0gPSBcIl9fX2Fkc2FmZSByb290X19fXCI7XG5cbiAgICAgICAgQnVuY2gucHJvdG90eXBlID0ge1xuICAgICAgICAgICAgYXBwZW5kOiBmdW5jdGlvbiAoYXBwZW5kYWdlKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0X2dsb2JhbCh0aGlzKTtcbiAgICAgICAgICAgICAgICB2YXIgYiA9IHRoaXMuX19fbm9kZXNfX187XG4gICAgICAgICAgICAgICAgdmFyIGZsYWcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB2YXIgaTtcbiAgICAgICAgICAgICAgICB2YXIgajtcbiAgICAgICAgICAgICAgICB2YXIgbm9kZTtcbiAgICAgICAgICAgICAgICB2YXIgcmVwO1xuICAgICAgICAgICAgICAgIGlmIChiLmxlbmd0aCA9PT0gMCB8fCAhYXBwZW5kYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShhcHBlbmRhZ2UpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhcHBlbmRhZ2UubGVuZ3RoICE9PSBiLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IoXCJBRHNhZmU6IEFycmF5IGxlbmd0aDogXCIgKyBiLmxlbmd0aCArIFwiLVwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYi5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVwID0gYXBwZW5kYWdlW2ldLl9fX25vZGVzX19fO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IHJlcC5sZW5ndGg7IGogKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJbaV0uYXBwZW5kQ2hpbGQocmVwW2pdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYXBwZW5kYWdlICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXAgPSBhcHBlbmRhZ2UuX19fbm9kZXNfX187XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGIubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUgPSBiW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCByZXAubGVuZ3RoOyBqICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5hcHBlbmRDaGlsZCgoZmxhZylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gcmVwW2pdLmNsb25lTm9kZSh0cnVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiByZXBbal0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbGFnID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShhcHBlbmRhZ2UpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBibHVyOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0X2dsb2JhbCh0aGlzKTtcbiAgICAgICAgICAgICAgICB2YXIgYiA9IHRoaXMuX19fbm9kZXNfX187XG4gICAgICAgICAgICAgICAgdmFyIGk7XG4gICAgICAgICAgICAgICAgdmFyIG5vZGU7XG4gICAgICAgICAgICAgICAgaGFzX2ZvY3VzID0gbnVsbDtcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYi5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICBub2RlID0gYltpXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUuYmx1cikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5ibHVyKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2hlY2s6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJlamVjdF9nbG9iYWwodGhpcyk7XG4gICAgICAgICAgICAgICAgdmFyIGIgPSB0aGlzLl9fX25vZGVzX19fO1xuICAgICAgICAgICAgICAgIHZhciBpO1xuICAgICAgICAgICAgICAgIHZhciBub2RlO1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoICE9PSBiLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IoXCJBRHNhZmU6IEFycmF5IGxlbmd0aDogXCIgKyBiLmxlbmd0aCArIFwiLVwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYi5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSA9IGJbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS50YWdOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5jaGVja2VkID0gISF2YWx1ZVtpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBiLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlID0gYltpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub2RlLnRhZ05hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLmNoZWNrZWQgPSAhIXZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiY2xhc3NcIjogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0X2dsb2JhbCh0aGlzKTtcbiAgICAgICAgICAgICAgICB2YXIgYiA9IHRoaXMuX19fbm9kZXNfX187XG4gICAgICAgICAgICAgICAgdmFyIGk7XG4gICAgICAgICAgICAgICAgdmFyIG5vZGU7XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggIT09IGIubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcihcIkFEc2FmZTogQXJyYXkgbGVuZ3RoOiBcIiArIGIubGVuZ3RoICsgXCItXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS5sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBiLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoL3VybC9pLnRlc3Qoc3RyaW5nX2NoZWNrKHZhbHVlW2ldKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcihcIkFEc2FmZSBlcnJvci5cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlID0gYltpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub2RlLnRhZ05hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLmNsYXNzTmFtZSA9IHZhbHVlW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKC91cmwvaS50ZXN0KHN0cmluZ19jaGVjayh2YWx1ZSkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcihcIkFEc2FmZSBlcnJvci5cIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGIubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUgPSBiW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUudGFnTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuY2xhc3NOYW1lID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2xvbmU6IGZ1bmN0aW9uIChkZWVwLCBuKSB7XG4gICAgICAgICAgICAgICAgdmFyIGEgPSBbXTtcbiAgICAgICAgICAgICAgICB2YXIgYiA9IHRoaXMuX19fbm9kZXNfX187XG4gICAgICAgICAgICAgICAgdmFyIGM7XG4gICAgICAgICAgICAgICAgdmFyIGk7XG4gICAgICAgICAgICAgICAgdmFyIGo7XG4gICAgICAgICAgICAgICAgdmFyIGsgPSBuIHx8IDE7XG4gICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGs7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICBjID0gW107XG4gICAgICAgICAgICAgICAgICAgIGZvciAoaiA9IDA7IGogPCBiLmxlbmd0aDsgaiArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjLnB1c2goYltqXS5jbG9uZU5vZGUoZGVlcCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGEucHVzaChuZXcgQnVuY2goYykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gKG4pXG4gICAgICAgICAgICAgICAgICAgID8gYVxuICAgICAgICAgICAgICAgICAgICA6IGFbMF07XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY291bnQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZWplY3RfZ2xvYmFsKHRoaXMpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9fX25vZGVzX19fLmxlbmd0aDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlYWNoOiBmdW5jdGlvbiAoZnVuYykge1xuICAgICAgICAgICAgICAgIHJlamVjdF9nbG9iYWwodGhpcyk7XG4gICAgICAgICAgICAgICAgdmFyIGIgPSB0aGlzLl9fX25vZGVzX19fO1xuICAgICAgICAgICAgICAgIHZhciBpO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZnVuYyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBiLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jKG5ldyBCdW5jaChbYltpXV0pKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZXJyb3IoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlbXB0eTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJlamVjdF9nbG9iYWwodGhpcyk7XG4gICAgICAgICAgICAgICAgdmFyIGIgPSB0aGlzLl9fX25vZGVzX19fO1xuICAgICAgICAgICAgICAgIHZhciBpO1xuICAgICAgICAgICAgICAgIHZhciBub2RlO1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoICE9PSBiLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IoXCJBRHNhZmU6IEFycmF5IGxlbmd0aDogXCIgKyBiLmxlbmd0aCArIFwiLVwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYi5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSA9IGJbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAobm9kZS5maXJzdENoaWxkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHVyZ2VfZXZlbnRfaGFuZGxlcnMobm9kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5yZW1vdmVDaGlsZChub2RlLmZpcnN0Q2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGIubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUgPSBiW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKG5vZGUuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB1cmdlX2V2ZW50X2hhbmRsZXJzKG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUucmVtb3ZlQ2hpbGQobm9kZS5maXJzdENoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlbmFibGU6IGZ1bmN0aW9uIChlbmFibGUpIHtcbiAgICAgICAgICAgICAgICByZWplY3RfZ2xvYmFsKHRoaXMpO1xuICAgICAgICAgICAgICAgIHZhciBiID0gdGhpcy5fX19ub2Rlc19fXztcbiAgICAgICAgICAgICAgICB2YXIgaTtcbiAgICAgICAgICAgICAgICB2YXIgbm9kZTtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShlbmFibGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbmFibGUubGVuZ3RoICE9PSBiLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IoXCJBRHNhZmU6IEFycmF5IGxlbmd0aDogXCIgKyBiLmxlbmd0aCArIFwiLVwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGIubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUgPSBiW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUudGFnTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuZGlzYWJsZWQgPSAhZW5hYmxlW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGIubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUgPSBiW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUudGFnTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuZGlzYWJsZWQgPSAhZW5hYmxlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVwaGVtZXJhbDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJlamVjdF9nbG9iYWwodGhpcyk7XG4gICAgICAgICAgICAgICAgaWYgKGVwaGVtZXJhbCkge1xuICAgICAgICAgICAgICAgICAgICBlcGhlbWVyYWwucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVwaGVtZXJhbCA9IHRoaXM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXhwbG9kZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJlamVjdF9nbG9iYWwodGhpcyk7XG4gICAgICAgICAgICAgICAgdmFyIGEgPSBbXTtcbiAgICAgICAgICAgICAgICB2YXIgYiA9IHRoaXMuX19fbm9kZXNfX187XG4gICAgICAgICAgICAgICAgdmFyIGk7XG4gICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGIubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgYVtpXSA9IG5ldyBCdW5jaChbYltpXV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmaXJlOiBmdW5jdGlvbiAoZXZlbnQpIHtcblxuICAgIC8vIEZpcmUgYW4gZXZlbnQgb24gYW4gb2JqZWN0LiBUaGUgZXZlbnQgY2FuIGJlIGVpdGhlclxuICAgIC8vIGEgc3RyaW5nIGNvbnRhaW5pbmcgdGhlIG5hbWUgb2YgdGhlIGV2ZW50LCBvciBhblxuICAgIC8vIG9iamVjdCBjb250YWluaW5nIGEgdHlwZSBwcm9wZXJ0eSBjb250YWluaW5nIHRoZVxuICAgIC8vIG5hbWUgb2YgdGhlIGV2ZW50LiBIYW5kbGVycyByZWdpc3RlcmVkIGJ5IHRoZSBcIm9uXCJcbiAgICAvLyBtZXRob2QgdGhhdCBtYXRjaCB0aGUgZXZlbnQgbmFtZSB3aWxsIGJlIGludm9rZWQuXG5cbiAgICAgICAgICAgICAgICByZWplY3RfZ2xvYmFsKHRoaXMpO1xuICAgICAgICAgICAgICAgIHZhciBhcnJheTtcbiAgICAgICAgICAgICAgICB2YXIgYjtcbiAgICAgICAgICAgICAgICB2YXIgaTtcbiAgICAgICAgICAgICAgICB2YXIgajtcbiAgICAgICAgICAgICAgICB2YXIgbjtcbiAgICAgICAgICAgICAgICB2YXIgbm9kZTtcbiAgICAgICAgICAgICAgICB2YXIgb247XG4gICAgICAgICAgICAgICAgdmFyIHR5cGU7XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSBldmVudDtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQgPSB7dHlwZTogdHlwZX07XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZXZlbnQgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9IGV2ZW50LnR5cGU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYiA9IHRoaXMuX19fbm9kZXNfX187XG4gICAgICAgICAgICAgICAgbiA9IGIubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBuOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZSA9IGJbaV07XG4gICAgICAgICAgICAgICAgICAgIG9uID0gbm9kZVtcIl9fXyBvbiBfX19cIl07XG5cbiAgICAvLyBJZiBhbiBhcnJheSBvZiBoYW5kbGVycyBleGlzdCBmb3IgdGhpcyBldmVudCwgdGhlblxuICAgIC8vIGxvb3AgdGhyb3VnaCBpdCBhbmQgZXhlY3V0ZSB0aGUgaGFuZGxlcnMgaW4gb3JkZXIuXG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKG93bnMob24sIHR5cGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcnJheSA9IG9uW3R5cGVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IGFycmF5Lmxlbmd0aDsgaiArPSAxKSB7XG5cbiAgICAvLyBJbnZva2UgYSBoYW5kbGVyLiBQYXNzIHRoZSBldmVudCBvYmplY3QuXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnJheVtqXS5jYWxsKHRoaXMsIGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmb2N1czogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJlamVjdF9nbG9iYWwodGhpcyk7XG4gICAgICAgICAgICAgICAgdmFyIGIgPSB0aGlzLl9fX25vZGVzX19fO1xuICAgICAgICAgICAgICAgIGlmIChiLmxlbmd0aCA+IDAgJiYgYWxsb3dfZm9jdXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaGFzX2ZvY3VzID0gYlswXS5mb2N1cygpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZXJyb3IoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmcmFnbWVudDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJlamVjdF9nbG9iYWwodGhpcyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBCdW5jaChbZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpXSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0Q2hlY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDaGVja3MoKVswXTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXRDaGVja3M6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZWplY3RfZ2xvYmFsKHRoaXMpO1xuICAgICAgICAgICAgICAgIHZhciBhID0gW107XG4gICAgICAgICAgICAgICAgdmFyIGIgPSB0aGlzLl9fX25vZGVzX19fO1xuICAgICAgICAgICAgICAgIHZhciBpO1xuICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBiLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGFbaV0gPSBiW2ldLmNoZWNrZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBhO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldENsYXNzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2xhc3NlcygpWzBdO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldENsYXNzZXM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZWplY3RfZ2xvYmFsKHRoaXMpO1xuICAgICAgICAgICAgICAgIHZhciBhID0gW107XG4gICAgICAgICAgICAgICAgdmFyIGIgPSB0aGlzLl9fX25vZGVzX19fO1xuICAgICAgICAgICAgICAgIHZhciBpO1xuICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBiLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGFbaV0gPSBiW2ldLmNsYXNzTmFtZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGE7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0TWFyazogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldE1hcmtzKClbMF07XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0TWFya3M6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZWplY3RfZ2xvYmFsKHRoaXMpO1xuICAgICAgICAgICAgICAgIHZhciBhID0gW107XG4gICAgICAgICAgICAgICAgdmFyIGIgPSB0aGlzLl9fX25vZGVzX19fO1xuICAgICAgICAgICAgICAgIHZhciBpO1xuICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBiLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGFbaV0gPSBiW2ldW1wiX2Fkc2FmZSBtYXJrX1wiXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGE7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0TmFtZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldE5hbWVzKClbMF07XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0TmFtZXM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZWplY3RfZ2xvYmFsKHRoaXMpO1xuICAgICAgICAgICAgICAgIHZhciBhID0gW107XG4gICAgICAgICAgICAgICAgdmFyIGIgPSB0aGlzLl9fX25vZGVzX19fO1xuICAgICAgICAgICAgICAgIHZhciBpO1xuICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBiLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGFbaV0gPSBiW2ldLm5hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBhO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldE9mZnNldEhlaWdodDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldE9mZnNldEhlaWdodHMoKVswXTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXRPZmZzZXRIZWlnaHRzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0X2dsb2JhbCh0aGlzKTtcbiAgICAgICAgICAgICAgICB2YXIgYSA9IFtdO1xuICAgICAgICAgICAgICAgIHZhciBiID0gdGhpcy5fX19ub2Rlc19fXztcbiAgICAgICAgICAgICAgICB2YXIgaTtcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYi5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICBhW2ldID0gYltpXS5vZmZzZXRIZWlnaHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBhO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldE9mZnNldFdpZHRoOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T2Zmc2V0V2lkdGhzKClbMF07XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0T2Zmc2V0V2lkdGhzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0X2dsb2JhbCh0aGlzKTtcbiAgICAgICAgICAgICAgICB2YXIgYSA9IFtdO1xuICAgICAgICAgICAgICAgIHZhciBiID0gdGhpcy5fX19ub2Rlc19fXztcbiAgICAgICAgICAgICAgICB2YXIgaTtcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYi5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICBhW2ldID0gYltpXS5vZmZzZXRXaWR0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGE7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0UGFyZW50OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0X2dsb2JhbCh0aGlzKTtcbiAgICAgICAgICAgICAgICB2YXIgYSA9IFtdO1xuICAgICAgICAgICAgICAgIHZhciBiID0gdGhpcy5fX19ub2Rlc19fXztcbiAgICAgICAgICAgICAgICB2YXIgaTtcbiAgICAgICAgICAgICAgICB2YXIgbjtcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYi5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICBuID0gYltpXS5wYXJlbnROb2RlO1xuICAgICAgICAgICAgICAgICAgICBpZiAobltcIl9fX2Fkc2FmZSByb290X19fXCJdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcihcIkFEc2FmZSBwYXJlbnQgdmlvbGF0aW9uLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBhW2ldID0gbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBCdW5jaChhKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXRTZWxlY3Rpb246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZWplY3RfZ2xvYmFsKHRoaXMpO1xuICAgICAgICAgICAgICAgIHZhciBiID0gdGhpcy5fX19ub2Rlc19fXztcbiAgICAgICAgICAgICAgICB2YXIgZW5kO1xuICAgICAgICAgICAgICAgIHZhciBub2RlO1xuICAgICAgICAgICAgICAgIHZhciBzdGFydDtcbiAgICAgICAgICAgICAgICB2YXIgcmFuZ2U7XG4gICAgICAgICAgICAgICAgaWYgKGIubGVuZ3RoID09PSAxICYmIGFsbG93X2ZvY3VzKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUgPSBiWzBdO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG5vZGUuc2VsZWN0aW9uU3RhcnQgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0ID0gbm9kZS5zZWxlY3Rpb25TdGFydDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZCA9IG5vZGUuc2VsZWN0aW9uRW5kO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5vZGUudmFsdWUuc2xpY2Uoc3RhcnQsIGVuZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmFuZ2UgPSBub2RlLmNyZWF0ZVRleHRSYW5nZSgpO1xuICAgICAgICAgICAgICAgICAgICByYW5nZS5leHBhbmQoXCJ0ZXh0ZWRpdFwiKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJhbmdlLmluUmFuZ2UodGhlX3JhbmdlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoZV9yYW5nZS50ZXh0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldFN0eWxlOiBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFN0eWxlcyhuYW1lKVswXTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXRTdHlsZXM6IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0X2dsb2JhbCh0aGlzKTtcbiAgICAgICAgICAgICAgICBpZiAocmVqZWN0X25hbWUobmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IoXCJBRHNhZmUgc3R5bGUgdmlvbGF0aW9uLlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGEgPSBbXTtcbiAgICAgICAgICAgICAgICB2YXIgYiA9IHRoaXMuX19fbm9kZXNfX187XG4gICAgICAgICAgICAgICAgdmFyIGk7XG4gICAgICAgICAgICAgICAgdmFyIG5vZGU7XG4gICAgICAgICAgICAgICAgdmFyIHM7XG4gICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGIubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZSA9IGJbaV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChub2RlLnRhZ05hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHMgPSAobmFtZSAhPT0gXCJmbG9hdFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gZ2V0U3R5bGVPYmplY3Qobm9kZSlbbmFtZV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGdldFN0eWxlT2JqZWN0KG5vZGUpLmNzc0Zsb2F0IHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXRTdHlsZU9iamVjdChub2RlKS5zdHlsZUZsb2F0O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYVtpXSA9IHM7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGE7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0VGFnTmFtZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFRhZ05hbWVzKClbMF07XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0VGFnTmFtZXM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZWplY3RfZ2xvYmFsKHRoaXMpO1xuICAgICAgICAgICAgICAgIHZhciBhID0gW107XG4gICAgICAgICAgICAgICAgdmFyIGIgPSB0aGlzLl9fX25vZGVzX19fO1xuICAgICAgICAgICAgICAgIHZhciBpO1xuICAgICAgICAgICAgICAgIHZhciB0YWdOYW1lO1xuICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBiLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhZ05hbWUgPSBiW2ldLnRhZ05hbWU7XG4gICAgICAgICAgICAgICAgICAgIGFbaV0gPSAodHlwZW9mIHRhZ05hbWUgPT09IFwic3RyaW5nXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHRhZ05hbWUudG9Mb3dlckNhc2UoKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiB0YWdOYW1lO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXRUaXRsZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFRpdGxlcygpWzBdO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldFRpdGxlczogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJlamVjdF9nbG9iYWwodGhpcyk7XG4gICAgICAgICAgICAgICAgdmFyIGEgPSBbXTtcbiAgICAgICAgICAgICAgICB2YXIgYiA9IHRoaXMuX19fbm9kZXNfX187XG4gICAgICAgICAgICAgICAgdmFyIGk7XG4gICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGIubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgYVtpXSA9IGJbaV0udGl0bGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBhO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldFZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VmFsdWVzKClbMF07XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0VmFsdWVzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0X2dsb2JhbCh0aGlzKTtcbiAgICAgICAgICAgICAgICB2YXIgYSA9IFtdO1xuICAgICAgICAgICAgICAgIHZhciBiID0gdGhpcy5fX19ub2Rlc19fXztcbiAgICAgICAgICAgICAgICB2YXIgaTtcbiAgICAgICAgICAgICAgICB2YXIgbm9kZTtcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYi5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICBub2RlID0gYltpXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUubm9kZU5hbWUgPT09IFwiI3RleHRcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYVtpXSA9IG5vZGUubm9kZVZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG5vZGUudGFnTmFtZSAmJiBub2RlLnR5cGUgIT09IFwicGFzc3dvcmRcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYVtpXSA9IG5vZGUudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWFbaV0gJiYgbm9kZS5maXJzdENoaWxkICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuZmlyc3RDaGlsZC5ub2RlTmFtZSA9PT0gXCIjdGV4dFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYVtpXSA9IG5vZGUuZmlyc3RDaGlsZC5ub2RlVmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGE7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaW5kZXRlcm1pbmF0ZTogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0X2dsb2JhbCh0aGlzKTtcbiAgICAgICAgICAgICAgICB2YXIgYiA9IHRoaXMuX19fbm9kZXNfX187XG4gICAgICAgICAgICAgICAgdmFyIGk7XG4gICAgICAgICAgICAgICAgdmFyIG5vZGU7XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggIT09IGIubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcihcIkFEc2FmZTogQXJyYXkgbGVuZ3RoOiBcIiArIGIubGVuZ3RoICsgXCItXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS5sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBiLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlID0gYltpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub2RlLnRhZ05hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLmluZGV0ZXJtaW5hdGUgPSAhIXZhbHVlW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGIubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUgPSBiW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUudGFnTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuaW5kZXRlcm1pbmF0ZSA9ICEhdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAga2xhc3M6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNsYXNzKHZhbHVlKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtYXJrOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZWplY3RfZ2xvYmFsKHRoaXMpO1xuICAgICAgICAgICAgICAgIHZhciBiID0gdGhpcy5fX19ub2Rlc19fXztcbiAgICAgICAgICAgICAgICB2YXIgaTtcbiAgICAgICAgICAgICAgICB2YXIgbm9kZTtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCAhPT0gYi5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yKFwiQURzYWZlOiBBcnJheSBsZW5ndGg6IFwiICsgYi5sZW5ndGggKyBcIi1cIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGIubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUgPSBiW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUudGFnTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVbXCJfYWRzYWZlIG1hcmtfXCJdID0gU3RyaW5nKHZhbHVlW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBiLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlID0gYltpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub2RlLnRhZ05hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlW1wiX2Fkc2FmZSBtYXJrX1wiXSA9IFN0cmluZyh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb2ZmOiBmdW5jdGlvbiAodHlwZSkge1xuICAgICAgICAgICAgICAgIHJlamVjdF9nbG9iYWwodGhpcyk7XG4gICAgICAgICAgICAgICAgdmFyIGIgPSB0aGlzLl9fX25vZGVzX19fO1xuICAgICAgICAgICAgICAgIHZhciBpO1xuICAgICAgICAgICAgICAgIHZhciBub2RlO1xuICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBiLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUgPSBiW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHR5cGUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygbm9kZVtcIl9fXyBvbiBfX19cIl0gPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlW1wiX19fIG9uIF9fX1wiXVt0eXBlXSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlW1wiX19fIG9uIF9fX1wiXSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb246IGZ1bmN0aW9uICh0eXBlLCBmdW5jKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0X2dsb2JhbCh0aGlzKTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHR5cGUgIT09IFwic3RyaW5nXCIgfHwgdHlwZW9mIGZ1bmMgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICBlcnJvcigpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBiID0gdGhpcy5fX19ub2Rlc19fXztcbiAgICAgICAgICAgICAgICB2YXIgaTtcbiAgICAgICAgICAgICAgICB2YXIgbm9kZTtcbiAgICAgICAgICAgICAgICB2YXIgb247XG4gICAgICAgICAgICAgICAgdmFyIG9udHlwZTtcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYi5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICBub2RlID0gYltpXTtcblxuLy8gVGhlIGNoYW5nZSBldmVudCBkb2VzIG5vdCBwcm9wb2dhdGUsIHNvIHdlIG11c3QgcHV0IHRoZSBoYW5kbGVyIG9uIHRoZVxuLy8gaW5zdGFuY2UuXG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09IFwiY2hhbmdlXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9udHlwZSA9IFwib25cIiArIHR5cGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9kZVtvbnR5cGVdICE9PSBkb21fZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlW29udHlwZV0gPSBkb21fZXZlbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuLy8gUmVnaXN0ZXIgYW4gZXZlbnQuIFB1dCB0aGUgZnVuY3Rpb24gaW4gYSBoYW5kbGVyIGFycmF5LCBtYWtpbmcgb25lIGlmIGl0XG4vLyBkb2Vzbid0IHlldCBleGlzdCBmb3IgdGhpcyB0eXBlIG9uIHRoaXMgbm9kZS5cblxuICAgICAgICAgICAgICAgICAgICBvbiA9IG5vZGVbXCJfX18gb24gX19fXCJdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvbiA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZVtcIl9fXyBvbiBfX19cIl0gPSBvbjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAob3ducyhvbiwgdHlwZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uW3R5cGVdLnB1c2goZnVuYyk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvblt0eXBlXSA9IFtmdW5jXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwcm90ZWN0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0X2dsb2JhbCh0aGlzKTtcbiAgICAgICAgICAgICAgICB2YXIgYiA9IHRoaXMuX19fbm9kZXNfX187XG4gICAgICAgICAgICAgICAgdmFyIGk7XG4gICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGIubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgYltpXVtcIl9fX2Fkc2FmZSByb290X19fXCJdID0gXCJfX19hZHNhZmUgcm9vdF9fX1wiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBxOiBmdW5jdGlvbiAodGV4dCkge1xuICAgICAgICAgICAgICAgIHJlamVjdF9nbG9iYWwodGhpcyk7XG4gICAgICAgICAgICAgICAgc3RhciA9IHRoaXMuX19fc3Rhcl9fXztcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEJ1bmNoKHF1ZXN0KHBhcnNlX3F1ZXJ5KHN0cmluZ19jaGVjayh0ZXh0KSwgaWQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fX19ub2Rlc19fXykpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlbW92ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJlamVjdF9nbG9iYWwodGhpcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXBsYWNlKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVwbGFjZTogZnVuY3Rpb24gKHJlcGxhY2VtZW50KSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0X2dsb2JhbCh0aGlzKTtcbiAgICAgICAgICAgICAgICB2YXIgYiA9IHRoaXMuX19fbm9kZXNfX187XG4gICAgICAgICAgICAgICAgdmFyIGZsYWcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB2YXIgaTtcbiAgICAgICAgICAgICAgICB2YXIgajtcbiAgICAgICAgICAgICAgICB2YXIgbmV3bm9kZTtcbiAgICAgICAgICAgICAgICB2YXIgbm9kZTtcbiAgICAgICAgICAgICAgICB2YXIgcGFyZW50O1xuICAgICAgICAgICAgICAgIHZhciByZXA7XG4gICAgICAgICAgICAgICAgaWYgKGIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGIubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcHVyZ2VfZXZlbnRfaGFuZGxlcnMoYltpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghcmVwbGFjZW1lbnQgfHwgcmVwbGFjZW1lbnQubGVuZ3RoID09PSAwIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAocmVwbGFjZW1lbnQuX19fbm9kZXNfX18gJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcGxhY2VtZW50Ll9fX25vZGVzX19fLmxlbmd0aCA9PT0gMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGIubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUgPSBiW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHVyZ2VfZXZlbnRfaGFuZGxlcnMobm9kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHJlcGxhY2VtZW50KSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVwbGFjZW1lbnQubGVuZ3RoICE9PSBiLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IoXCJBRHNhZmU6IEFycmF5IGxlbmd0aDogXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiLmxlbmd0aCArIFwiLVwiICsgdmFsdWUubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYi5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSA9IGJbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBwdXJnZV9ldmVudF9oYW5kbGVycyhub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXAgPSByZXBsYWNlbWVudFtpXS5fX19ub2Rlc19fXztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVwLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3bm9kZSA9IHJlcFswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50LnJlcGxhY2VDaGlsZChuZXdub2RlLCBub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChqID0gMTsgaiA8IHJlcC5sZW5ndGg7IGogKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSA9IG5ld25vZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdub2RlID0gcmVwW2pdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShuZXdub2RlLCBub2RlLm5leHRTaWJsaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudC5yZW1vdmVDaGlsZChub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXAgPSByZXBsYWNlbWVudC5fX19ub2Rlc19fXztcbiAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGIubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUgPSBiW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgcHVyZ2VfZXZlbnRfaGFuZGxlcnMobm9kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnQgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFyZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3bm9kZSA9IChmbGFnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHJlcFswXS5jbG9uZU5vZGUodHJ1ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiByZXBbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50LnJlcGxhY2VDaGlsZChuZXdub2RlLCBub2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGogPSAxOyBqIDwgcmVwLmxlbmd0aDsgaiArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUgPSBuZXdub2RlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdub2RlID0gKGZsYWcpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHJlcFtqXS5jbG9uZSh0cnVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiByZXBbal07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUobmV3bm9kZSwgbm9kZS5uZXh0U2libGluZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsYWcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNlbGVjdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJlamVjdF9nbG9iYWwodGhpcyk7XG4gICAgICAgICAgICAgICAgdmFyIGIgPSB0aGlzLl9fX25vZGVzX19fO1xuICAgICAgICAgICAgICAgIGlmIChiLmxlbmd0aCA8IDEgfHwgIWFsbG93X2ZvY3VzKSB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJbMF0uZm9jdXMoKTtcbiAgICAgICAgICAgICAgICBiWzBdLnNlbGVjdCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNlbGVjdGlvbjogZnVuY3Rpb24gKHN0cmluZykge1xuICAgICAgICAgICAgICAgIHJlamVjdF9nbG9iYWwodGhpcyk7XG4gICAgICAgICAgICAgICAgc3RyaW5nX2NoZWNrKHN0cmluZyk7XG4gICAgICAgICAgICAgICAgdmFyIGIgPSB0aGlzLl9fX25vZGVzX19fO1xuICAgICAgICAgICAgICAgIHZhciBlbmQ7XG4gICAgICAgICAgICAgICAgdmFyIG5vZGU7XG4gICAgICAgICAgICAgICAgdmFyIG9sZDtcbiAgICAgICAgICAgICAgICB2YXIgc3RhcnQ7XG4gICAgICAgICAgICAgICAgdmFyIHJhbmdlO1xuICAgICAgICAgICAgICAgIGlmIChiLmxlbmd0aCA9PT0gMSAmJiBhbGxvd19mb2N1cykge1xuICAgICAgICAgICAgICAgICAgICBub2RlID0gYlswXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBub2RlLnNlbGVjdGlvblN0YXJ0ID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFydCA9IG5vZGUuc2VsZWN0aW9uU3RhcnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbmQgPSBub2RlLnNlbGVjdGlvbkVuZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9sZCA9IG5vZGUudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLnZhbHVlID0gb2xkLnNsaWNlKDAsIHN0YXJ0KSArIHN0cmluZyArIG9sZC5zbGljZShlbmQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5zZWxlY3Rpb25TdGFydCA9IHN0YXJ0ICsgc3RyaW5nLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuc2VsZWN0aW9uRW5kID0gc3RhcnQgKyBzdHJpbmcubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5mb2N1cygpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2UgPSBub2RlLmNyZWF0ZVRleHRSYW5nZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2UuZXhwYW5kKFwidGV4dGVkaXRcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmFuZ2UuaW5SYW5nZSh0aGVfcmFuZ2UpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhlX3JhbmdlLnNlbGVjdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZV9yYW5nZS50ZXh0ID0gc3RyaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZV9yYW5nZS5zZWxlY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdHlsZTogZnVuY3Rpb24gKG5hbWUsIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0X2dsb2JhbCh0aGlzKTtcbiAgICAgICAgICAgICAgICBpZiAocmVqZWN0X25hbWUobmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IoXCJBRHNhZmUgc3R5bGUgdmlvbGF0aW9uLlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQgfHwgKC91cmwvaS50ZXN0KHN0cmluZ19jaGVjayh2YWx1ZSkpKSkge1xuICAgICAgICAgICAgICAgICAgICBlcnJvcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgYiA9IHRoaXMuX19fbm9kZXNfX187XG4gICAgICAgICAgICAgICAgdmFyIGk7XG4gICAgICAgICAgICAgICAgdmFyIG5vZGU7XG4gICAgICAgICAgICAgICAgdmFyIHY7XG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggIT09IGIubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcihcIkFEc2FmZTogQXJyYXkgbGVuZ3RoOiBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGIubGVuZ3RoICsgXCItXCIgKyB2YWx1ZS5sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBiLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlID0gYltpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHYgPSBzdHJpbmdfY2hlY2sodmFsdWVbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKC91cmwvaS50ZXN0KHYpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub2RlLnRhZ05hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmFtZSAhPT0gXCJmbG9hdFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuc3R5bGVbbmFtZV0gPSB2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuc3R5bGUuY3NzRmxvYXQgPSB2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLnN0eWxlLnN0eWxlRmxvYXQgPSB2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHYgPSBzdHJpbmdfY2hlY2sodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoL3VybC9pLnRlc3QodikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGIubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUgPSBiW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUudGFnTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuYW1lICE9PSBcImZsb2F0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5zdHlsZVtuYW1lXSA9IHY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5zdHlsZS5jc3NGbG9hdCA9IHY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuc3R5bGUuc3R5bGVGbG9hdCA9IHY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRhZzogZnVuY3Rpb24gKHRhZywgdHlwZSwgbmFtZSkge1xuICAgICAgICAgICAgICAgIHJlamVjdF9nbG9iYWwodGhpcyk7XG4gICAgICAgICAgICAgICAgdmFyIG5vZGU7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0YWcgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG1ha2VhYmxlVGFnTmFtZVt0YWddICE9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yKFwiQURzYWZlOiBCYWQgdGFnOiBcIiArIHRhZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZyk7XG4gICAgICAgICAgICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5hdXRvY29tcGxldGUgPSBcIm9mZlwiO1xuICAgICAgICAgICAgICAgICAgICBub2RlLm5hbWUgPSBzdHJpbmdfY2hlY2sobmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUudHlwZSA9IHN0cmluZ19jaGVjayh0eXBlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBCdW5jaChbbm9kZV0pO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRleHQ6IGZ1bmN0aW9uICh0ZXh0KSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0X2dsb2JhbCh0aGlzKTtcbiAgICAgICAgICAgICAgICB2YXIgYTtcbiAgICAgICAgICAgICAgICB2YXIgaTtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0ZXh0KSkge1xuICAgICAgICAgICAgICAgICAgICBhID0gW107XG4gICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCB0ZXh0Lmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhW2ldID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoc3RyaW5nX2NoZWNrKHRleHRbaV0pKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEJ1bmNoKGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEJ1bmNoKFtkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShzdHJpbmdfY2hlY2sodGV4dCkpXSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdGl0bGU6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJlamVjdF9nbG9iYWwodGhpcyk7XG4gICAgICAgICAgICAgICAgdmFyIGIgPSB0aGlzLl9fX25vZGVzX19fO1xuICAgICAgICAgICAgICAgIHZhciBpO1xuICAgICAgICAgICAgICAgIHZhciBub2RlO1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoICE9PSBiLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3IoXCJBRHNhZmU6IEFycmF5IGxlbmd0aDogXCIgKyBiLmxlbmd0aCArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiLVwiICsgdmFsdWUubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYi5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSA9IGJbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS50YWdOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS50aXRsZSA9IHN0cmluZ19jaGVjayh2YWx1ZVtpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzdHJpbmdfY2hlY2sodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYi5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSA9IGJbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS50YWdOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS50aXRsZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICByZWplY3RfZ2xvYmFsKHRoaXMpO1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBiID0gdGhpcy5fX19ub2Rlc19fXztcbiAgICAgICAgICAgICAgICB2YXIgaTtcbiAgICAgICAgICAgICAgICB2YXIgbm9kZTtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkgJiYgYi5sZW5ndGggPT09IHZhbHVlLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYi5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSA9IGJbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS50YWdOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUudHlwZSAhPT0gXCJwYXNzd29yZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygbm9kZS52YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS52YWx1ZSA9IHZhbHVlW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKG5vZGUuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB1cmdlX2V2ZW50X2hhbmRsZXJzKG5vZGUuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5yZW1vdmVDaGlsZChub2RlLmZpcnN0Q2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdHJpbmcodmFsdWVbaV0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobm9kZS5ub2RlTmFtZSA9PT0gXCIjdGV4dFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5ub2RlVmFsdWUgPSBTdHJpbmcodmFsdWVbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBTdHJpbmcodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYi5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSA9IGJbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobm9kZS50YWdOYW1lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUudGFnTmFtZSAhPT0gXCJCVVRUT05cIiAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIG5vZGUudmFsdWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChub2RlLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB1cmdlX2V2ZW50X2hhbmRsZXJzKG5vZGUuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlLnJlbW92ZUNoaWxkKG5vZGUuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh2YWx1ZSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobm9kZS5ub2RlTmFtZSA9PT0gXCIjdGV4dFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5ub2RlVmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuLy8gUmV0dXJuIGFuIEFEc2FmZSBkb20gb2JqZWN0LlxuXG4gICAgICAgIGRvbSA9IHtcbiAgICAgICAgICAgIGFwcGVuZDogZnVuY3Rpb24gKGJ1bmNoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGIgPSAodHlwZW9mIGJ1bmNoID09PSBcInN0cmluZ1wiKVxuICAgICAgICAgICAgICAgICAgICA/IFtkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShidW5jaCldXG4gICAgICAgICAgICAgICAgICAgIDogYnVuY2guX19fbm9kZXNfX187XG4gICAgICAgICAgICAgICAgdmFyIGk7XG4gICAgICAgICAgICAgICAgdmFyIG47XG4gICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGIubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgbiA9IGJbaV07XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbiA9PT0gXCJzdHJpbmdcIiB8fCB0eXBlb2YgbiA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgbiA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFN0cmluZyhuKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcm9vdC5hcHBlbmRDaGlsZChuKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRvbTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb21iaW5lOiBmdW5jdGlvbiAoYXJyYXkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWFycmF5IHx8ICFhcnJheS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IoXCJBRHNhZmU6IEJhZCBjb21iaW5hdGlvbi5cIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBiID0gYXJyYXlbMF0uX19fbm9kZXNfX187XG4gICAgICAgICAgICAgICAgdmFyIGk7XG4gICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGIgPSBiLmNvbmNhdChhcnJheVtpXS5fX19ub2Rlc19fXyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQnVuY2goYik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY291bnQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcGhlbWVyYWw6IGZ1bmN0aW9uIChidW5jaCkge1xuICAgICAgICAgICAgICAgIGlmIChlcGhlbWVyYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgZXBoZW1lcmFsLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlcGhlbWVyYWwgPSBidW5jaDtcbiAgICAgICAgICAgICAgICByZXR1cm4gZG9tO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZyYWdtZW50OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBCdW5jaChbZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpXSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcHJlcGVuZDogZnVuY3Rpb24gKGJ1bmNoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGIgPSBidW5jaC5fX19ub2Rlc19fXztcbiAgICAgICAgICAgICAgICB2YXIgaTtcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYi5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICByb290Lmluc2VydEJlZm9yZShiW2ldLCByb290LmZpcnN0Q2hpbGQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZG9tO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHE6IGZ1bmN0aW9uICh0ZXh0KSB7XG4gICAgICAgICAgICAgICAgc3RhciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciBxdWVyeSA9IHBhcnNlX3F1ZXJ5KHRleHQsIGlkKTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGh1bnRlcltxdWVyeVswXS5vcF0gIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICBlcnJvcihcIkFEc2FmZTogQmFkIHF1ZXJ5OiBcIiArIHF1ZXJ5WzBdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBCdW5jaChxdWVzdChxdWVyeSwgW3Jvb3RdKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcHVyZ2VfZXZlbnRfaGFuZGxlcnMocm9vdCk7XG4gICAgICAgICAgICAgICAgcm9vdC5wYXJlbnQucmVtb3ZlRWxlbWVudChyb290KTtcbiAgICAgICAgICAgICAgICByb290ID0gbnVsbDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByb3c6IGZ1bmN0aW9uICh2YWx1ZXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgdHIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIik7XG4gICAgICAgICAgICAgICAgdmFyIHRkO1xuICAgICAgICAgICAgICAgIHZhciBpO1xuICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCB2YWx1ZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XG4gICAgICAgICAgICAgICAgICAgIHRkLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFN0cmluZyh2YWx1ZXNbaV0pKSk7XG4gICAgICAgICAgICAgICAgICAgIHRyLmFwcGVuZENoaWxkKHRkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBCdW5jaChbdHJdKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0YWc6IGZ1bmN0aW9uICh0YWcsIHR5cGUsIG5hbWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgbm9kZTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRhZyAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICBlcnJvcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobWFrZWFibGVUYWdOYW1lW3RhZ10gIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IoXCJBRHNhZmU6IEJhZCB0YWc6IFwiICsgdGFnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnKTtcbiAgICAgICAgICAgICAgICBpZiAobmFtZSkge1xuICAgICAgICAgICAgICAgICAgICBub2RlLmF1dG9jb21wbGV0ZSA9IFwib2ZmXCI7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUubmFtZSA9IG5hbWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUudHlwZSA9IHR5cGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQnVuY2goW25vZGVdKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0ZXh0OiBmdW5jdGlvbiAodGV4dCkge1xuICAgICAgICAgICAgICAgIHZhciBhO1xuICAgICAgICAgICAgICAgIHZhciBpO1xuICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRleHQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGEgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHRleHQubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFbaV0gPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShzdHJpbmdfY2hlY2sodGV4dFtpXSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQnVuY2goYSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQnVuY2goW2RvY3VtZW50LmNyZWF0ZVRleHROb2RlKHN0cmluZ19jaGVjayh0ZXh0KSldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICBpZiAodHlwZW9mIHJvb3QuYWRkRXZlbnRMaXN0ZW5lciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICByb290LmFkZEV2ZW50TGlzdGVuZXIoXCJmb2N1c1wiLCBkb21fZXZlbnQsIHRydWUpO1xuICAgICAgICAgICAgcm9vdC5hZGRFdmVudExpc3RlbmVyKFwiYmx1clwiLCBkb21fZXZlbnQsIHRydWUpO1xuICAgICAgICAgICAgcm9vdC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdmVyXCIsIGRvbV9ldmVudCwgdHJ1ZSk7XG4gICAgICAgICAgICByb290LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW91dFwiLCBkb21fZXZlbnQsIHRydWUpO1xuICAgICAgICAgICAgcm9vdC5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCBkb21fZXZlbnQsIHRydWUpO1xuICAgICAgICAgICAgcm9vdC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIGRvbV9ldmVudCwgdHJ1ZSk7XG4gICAgICAgICAgICByb290LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgZG9tX2V2ZW50LCB0cnVlKTtcbiAgICAgICAgICAgIHJvb3QuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGRvbV9ldmVudCwgdHJ1ZSk7XG4gICAgICAgICAgICByb290LmFkZEV2ZW50TGlzdGVuZXIoXCJkYmxjbGlja1wiLCBkb21fZXZlbnQsIHRydWUpO1xuICAgICAgICAgICAgcm9vdC5hZGRFdmVudExpc3RlbmVyKFwia2V5cHJlc3NcIiwgZG9tX2V2ZW50LCB0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJvb3Qub25jbGljayA9IGRvbV9ldmVudDtcbiAgICAgICAgICAgIHJvb3Qub25kYmxjbGljayA9IGRvbV9ldmVudDtcbiAgICAgICAgICAgIHJvb3Qub25mb2N1c2luID0gZG9tX2V2ZW50O1xuICAgICAgICAgICAgcm9vdC5vbmZvY3Vzb3V0ID0gZG9tX2V2ZW50O1xuICAgICAgICAgICAgcm9vdC5vbmtleXByZXNzID0gZG9tX2V2ZW50O1xuICAgICAgICAgICAgcm9vdC5vbm1vdXNlb3V0ID0gZG9tX2V2ZW50O1xuICAgICAgICAgICAgcm9vdC5vbm1vdXNlZG93biA9IGRvbV9ldmVudDtcbiAgICAgICAgICAgIHJvb3Qub25tb3VzZW1vdmUgPSBkb21fZXZlbnQ7XG4gICAgICAgICAgICByb290Lm9ubW91c2VvdmVyID0gZG9tX2V2ZW50O1xuICAgICAgICAgICAgcm9vdC5vbm1vdXNldXAgPSBkb21fZXZlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtkb20sIEJ1bmNoLnByb3RvdHlwZV07XG4gICAgfVxuXG5cbi8vICBSZXR1cm4gdGhlIEFEU0FGRSBvYmplY3QuXG5cbiAgICByZXR1cm4ge1xuICAgICAgICBjcmVhdGU6IGZ1bmN0aW9uIChvKSB7XG4gICAgICAgICAgICByZWplY3RfZ2xvYmFsKG8pO1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5jcmVhdGUobyk7XG4gICAgICAgIH0sXG5cbi8vICBBRFNBRkUuZ2V0IHJldHJpZXZlcyBhIHZhbHVlIGZyb20gYW4gb2JqZWN0LlxuXG4gICAgICAgIGdldDogZnVuY3Rpb24gKG9iamVjdCwgbmFtZSkge1xuICAgICAgICAgICAgcmVqZWN0X2dsb2JhbChvYmplY3QpO1xuICAgICAgICAgICAgaWYgKCFyZWplY3RfcHJvcGVydHkob2JqZWN0LCBuYW1lKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3RbbmFtZV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlcnJvcigpO1xuICAgICAgICB9LFxuXG4vLyAgQURTQUZFLmdvIGFsbG93cyBhIGd1ZXN0IHdpZGdldCB0byBnZXQgYWNjZXNzIHRvIGEgd3JhcHBlZCBkb20gbm9kZSBhbmRcbi8vICBhcHByb3ZlZCBBRHNhZmUgbGlicmFyaWVzLiBJdCBpcyBwYXNzZWQgYW4gaWQgYW5kIGEgZnVuY3Rpb24uIFRoZSBmdW5jdGlvblxuLy8gIHdpbGwgYmUgcGFzc2VkIHRoZSB3cmFwcGVkIGRvbSBub2RlIGFuZCBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgbGlicmFyaWVzLlxuXG4gICAgICAgIGdvOiBmdW5jdGlvbiAoaWQsIGYpIHtcbiAgICAgICAgICAgIHZhciBkb207XG4gICAgICAgICAgICB2YXIgZnVuO1xuICAgICAgICAgICAgdmFyIHJvb3Q7XG4gICAgICAgICAgICB2YXIgaTtcbiAgICAgICAgICAgIHZhciBzY3JpcHRzO1xuXG4vLyAgSWYgQURTQUZFLmlkIHdhcyBjYWxsZWQsIHRoZSBpZCBiZXR0ZXIgbWF0Y2guXG5cbiAgICAgICAgICAgIGlmIChhZHNhZmVfaWQgJiYgYWRzYWZlX2lkICE9PSBpZCkge1xuICAgICAgICAgICAgICAgIGVycm9yKCk7XG4gICAgICAgICAgICB9XG5cbi8vICBHZXQgdGhlIGRvbSBub2RlIGZvciB0aGUgd2lkZ2V0J3MgZGl2IGNvbnRhaW5lci5cblxuICAgICAgICAgICAgcm9vdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcbiAgICAgICAgICAgIGlmIChyb290LnRhZ05hbWUgIT09IFwiRElWXCIpIHtcbiAgICAgICAgICAgICAgICBlcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWRzYWZlX2lkID0gbnVsbDtcblxuLy8gIERlbGV0ZSB0aGUgc2NyaXB0cyBoZWxkIGluIHRoZSBkaXYuIFRoZXkgaGF2ZSBhbGwgcnVuLCBzbyB3ZSBkb24ndCBuZWVkXG4vLyAgdGhlbSBhbnkgbW9yZS4gSWYgdGhlIGRpdiBoYWQgbm8gc2NyaXB0cywgdGhlbiBzb21ldGhpbmcgaXMgd3JvbmcuXG4vLyAgVGhpcyBwcm92aWRlcyBzb21lIHByb3RlY3Rpb24gYWdhaW5zdCBtaXNoYXBzIGR1ZSB0byB3ZWFrbmVzcyBpbiB0aGVcbi8vICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCBmdW5jdGlvbi5cblxuICAgICAgICAgICAgc2NyaXB0cyA9IHJvb3QuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIik7XG4gICAgICAgICAgICBpID0gc2NyaXB0cy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgaWYgKGkgPCAwKSB7XG4gICAgICAgICAgICAgICAgZXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICByb290LnJlbW92ZUNoaWxkKHNjcmlwdHNbaV0pO1xuICAgICAgICAgICAgICAgIGkgLT0gMTtcbiAgICAgICAgICAgIH0gd2hpbGUgKGkgPj0gMCk7XG4gICAgICAgICAgICByb290ID0gbWFrZV9yb290KHJvb3QsIGlkKTtcbiAgICAgICAgICAgIGRvbSA9IHJvb3RbMF07XG5cbi8vIElmIHRoZSBwYWdlIGhhcyByZWdpc3RlcmVkIGludGVyY2VwdG9ycywgY2FsbCB0aGVuLlxuXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgaW50ZXJjZXB0b3JzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgZnVuID0gaW50ZXJjZXB0b3JzW2ldO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZnVuID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bihpZCwgZG9tLCBhZHNhZmVfbGliLCByb290WzFdKTtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIEFEU0FGRS5sb2coZTEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4vLyAgQ2FsbCB0aGUgc3VwcGxpZWQgZnVuY3Rpb24uXG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZihkb20sIGFkc2FmZV9saWIpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZTIpIHtcbiAgICAgICAgICAgICAgICBBRFNBRkUubG9nKGUyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJvb3QgPSBudWxsO1xuICAgICAgICAgICAgYWRzYWZlX2xpYiA9IG51bGw7XG4gICAgICAgIH0sXG5cbi8vICBBRFNBRkUuaGFzIHJldHVybnMgdHJ1ZSBpZiB0aGUgb2JqZWN0IGNvbnRhaW5zIGFuIG93biBwcm9wZXJ0eSB3aXRoIHRoZVxuLy8gIGdpdmVuIG5hbWUuXG5cbiAgICAgICAgaGFzOiBmdW5jdGlvbiAob2JqZWN0LCBuYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gb3ducyhvYmplY3QsIG5hbWUpO1xuICAgICAgICB9LFxuXG4vLyAgQURTQUZFLmlkIGFsbG93cyBhIGd1ZXN0IHdpZGdldCB0byBpbmRpY2F0ZSB0aGF0IGl0IHdhbnRzIHRvIGxvYWRcbi8vICBBRHNhZmUgYXBwcm92ZWQgbGlicmFyaWVzLlxuXG4gICAgICAgIGlkOiBmdW5jdGlvbiAoaWQpIHtcblxuLy8gIENhbGxzIHRvIEFEU0FGRS5pZCBtdXN0IGJlIGJhbGFuY2VkIHdpdGggY2FsbHMgdG8gQURTQUZFLmdvLlxuLy8gIE9ubHkgb25lIGlkIGNhbiBiZSBhY3RpdmUgYXQgYSB0aW1lLlxuXG4gICAgICAgICAgICBpZiAoYWRzYWZlX2lkKSB7XG4gICAgICAgICAgICAgICAgZXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFkc2FmZV9pZCA9IGlkO1xuICAgICAgICAgICAgYWRzYWZlX2xpYiA9IHt9O1xuICAgICAgICB9LFxuXG4vLyAgQURTQUZFLmlzQXJyYXkgcmV0dXJucyB0cnVlIGlmIHRoZSBvcGVyYW5kIGlzIGFuIGFycmF5LlxuXG4gICAgICAgIGlzQXJyYXk6IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5hcHBseSh2YWx1ZSkgPT09IFwiW29iamVjdCBBcnJheV1cIjtcbiAgICAgICAgfSxcblxuLy8gIEFEU0FGRS5rZXlzIHJldHVybnMgYW4gYXJyYXkgb2Yga2V5cy5cblxuICAgICAgICBrZXlzOiBPYmplY3Qua2V5cyxcblxuLy8gIEFEU0FGRS5sYXRlciBjYWxscyBhIGZ1bmN0aW9uIGF0IGEgbGF0ZXIgdGltZS5cblxuICAgICAgICBsYXRlcjogZnVuY3Rpb24gKGZ1bmMsIHRpbWVvdXQpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZnVuYyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jLCB0aW1lb3V0IHx8IDApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBlcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4vLyAgQURTQUZFLmxpYiBhbGxvd3MgYW4gYXBwcm92ZWQgQURzYWZlIGxpYnJhcnkgdG8gbWFrZSBpdHNlbGYgYXZhaWxhYmxlXG4vLyAgdG8gYSB3aWRnZXQuIFRoZSBsaWJyYXJ5IHByb3ZpZGVzIGEgbmFtZSBhbmQgYSBmdW5jdGlvbi4gVGhlIHJlc3VsdCBvZlxuLy8gIGNhbGxpbmcgdGhhdCBmdW5jdGlvbiB3aWxsIGJlIG1hZGUgYXZhaWxhYmxlIHRvIHRoZSB3aWRnZXQgdmlhIHRoZSBuYW1lLlxuXG4gICAgICAgIGxpYjogZnVuY3Rpb24gKG5hbWUsIGYpIHtcbiAgICAgICAgICAgIGlmICghYWRzYWZlX2lkIHx8IHJlamVjdF9uYW1lKG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgZXJyb3IoXCJBRHNhZmUgbGliIHZpb2xhdGlvbi5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhZHNhZmVfbGliW25hbWVdID0gZihhZHNhZmVfbGliKTtcbiAgICAgICAgfSxcblxuLy8gIEFEU0FGRS5sb2cgaXMgYSBkZWJ1Z2dpbmcgYWlkIHRoYXQgc3BhbXMgdGV4dCB0byB0aGUgYnJvd3NlcidzIGxvZy5cbi8vICBPdmVyd3JpdGUgdGhpcyBmdW5jdGlvbiB0byBzZW5kIGxvZyBtYXR0ZXIgc29tZXdoZXJlIGVsc2UuXG5cbiAgICAgICAgbG9nOiBmdW5jdGlvbiBsb2cocykge1xuICAgICAgICAgICAgaWYgKHdpbmRvdy5jb25zb2xlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBEZWJ1ZyA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICAgIERlYnVnLndyaXRlbG4ocyk7ICAgICAgLyogSUUgKi9cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb3BlcmEucG9zdEVycm9yKHMpOyAgICAvKiBPcGVyYSAqL1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4vLyAgQURTQUZFLnJlbW92ZSBkZWxldGVzIGEgdmFsdWUgZnJvbSBhbiBvYmplY3QuXG5cbiAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbiAob2JqZWN0LCBuYW1lKSB7XG4gICAgICAgICAgICBpZiAoIXJlamVjdF9wcm9wZXJ0eShvYmplY3QsIG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIG9iamVjdFtuYW1lXTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlcnJvcigpO1xuICAgICAgICB9LFxuXG4vLyAgQURTQUZFLnNldCBzdG9yZXMgYSB2YWx1ZSBpbiBhbiBvYmplY3QuXG5cbiAgICAgICAgc2V0OiBmdW5jdGlvbiAob2JqZWN0LCBuYW1lLCB2YWx1ZSkge1xuICAgICAgICAgICAgcmVqZWN0X2dsb2JhbChvYmplY3QpO1xuICAgICAgICAgICAgaWYgKCFyZWplY3RfcHJvcGVydHkob2JqZWN0LCBuYW1lKSkge1xuICAgICAgICAgICAgICAgIG9iamVjdFtuYW1lXSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVycm9yKCk7XG4gICAgICAgIH0sXG5cbi8vICBBRFNBRkUuX2ludGVyY2VwdCBhbGxvd3MgdGhlIHBhZ2UgdG8gcmVnaXN0ZXIgYSBmdW5jdGlvbiB0aGF0IHdpbGxcbi8vICBzZWUgdGhlIHdpZGdldCdzIGNhcGFiaWxpdGllcy5cblxuICAgICAgICBfaW50ZXJjZXB0OiBmdW5jdGlvbiAoZikge1xuICAgICAgICAgICAgaW50ZXJjZXB0b3JzLnB1c2goZik7XG4gICAgICAgIH1cblxuICAgIH07XG59KCkpO1xuIl19
